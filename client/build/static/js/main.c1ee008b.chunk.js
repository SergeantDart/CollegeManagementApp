(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{306:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(55),r=a.n(n),o=a(16),i=a(10),c=a(57),d=a(139),u=a.n(d),l=a(140),p=a(26),m=a(6),h=a(7),f=a(9),j=a(8),v=a(141),b=a.n(v),y=a(142),g=a(24),O=a(13),S=a(0),x=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={items:[{class:"nav_item",icon:O.h,text:"Home",link:"/",restricted:!1},{class:"nav_item",icon:O.l,text:"Login",link:"/login",restricted:!1,excluded:!0},{class:"nav_item",icon:O.i,text:"Student overview",link:"/student-overview",restricted:!0,permissions:["student"]},{class:"nav_item",icon:O.i,text:"Professor overview",link:"/professor-overview",restricted:!0,permissions:["professor"]},{class:"nav_item",icon:O.o,text:"Students",link:"/students-list",restricted:!0,permissions:["admin","professor","student"]},{class:"nav_item",icon:O.p,text:"Study groups",link:"/studygroups-list",restricted:!0,permissions:["admin","professor","student"]},{class:"nav_item",icon:O.c,text:"Professors",link:"/professors-list",restricted:!0,permissions:["admin","professor"]},{class:"nav_item",icon:O.m,text:"Departments",link:"/departments-list",restricted:!0,permissions:["admin","professor"]},{class:"nav_item",icon:O.b,text:"Courses",link:"/courses-list",restricted:!0,permissions:["admin","professor","student"]},{class:"nav_item",icon:O.e,text:"Exams",link:"/exams-list",restricted:!0,permissions:["admin","professor","student"]},{class:"nav_item",icon:O.a,text:"Subjects",link:"/subjects-list",restricted:!0,permissions:["admin","student","professor"]},{class:"nav_item",icon:O.j,text:"News",link:"/news-list",restricted:!0,permissions:["admin"]},{class:"nav_item",icon:O.g,text:"Send docs",link:"/send-document",restricted:!0,permissions:["professor","student"]},{class:"nav_item",icon:O.f,text:"Received docs",link:"/documents-list",restricted:!0,permissions:["admin"]},{class:"nav_item",icon:O.d,text:"Chat",link:"/chat",restricted:!0,permissions:["admin","student","professor"]},{class:"nav_item",icon:O.n,text:"Profile",link:"/profile",restricted:!0,permissions:["admin","student","professor"]},{class:"nav_item",icon:O.l,text:"Logout",link:"/logout",restricted:!0,permissions:["admin","student","professor"]}]},e.generateNavItem=function(t,a){return Object(S.jsx)("div",{className:t.class,children:Object(S.jsxs)(o.b,{to:t.link,onClick:e.props.onHideNav,children:[Object(S.jsx)(g.a,{id:"nav_icon",icon:t.icon}),Object(S.jsx)("span",{id:"nav_text"}),t.text]})},a)},e.validateNavItemPermissions=function(t,a){return t.permissions.includes(e.props.users.login.user.userRole)?e.generateNavItem(t,a):null},e.renderNavItems=function(t){return e.props.users.login?t.map((function(t,a){return e.props.users.login.isAuth?t.excluded?null:t.permissions?e.validateNavItemPermissions(t,a):e.generateNavItem(t,a):t.restricted?null:e.generateNavItem(t,a)})):null},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(S.jsx)("div",{children:this.renderNavItems(this.state.items)})}}]),a}(s.Component);var D=Object(i.b)((function(e){return{users:e.users}}))(x),E=function(e){return Object(S.jsx)("div",{children:Object(S.jsx)(y.SideNav,{showNav:e.showNav,onHideNav:e.onHideNav,navStyle:{background:"yellow",maxWidth:"300px"},children:Object(S.jsx)(D,{onHideNav:e.onHideNav})})})},N=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={showNav:!1},e.onHideNav=function(){e.setState({showNav:!1})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(S.jsxs)("header",{children:[Object(S.jsxs)("div",{className:"sidenav_bars",children:[Object(S.jsx)(b.a,{name:"bars",onClick:function(){return e.setState({showNav:!0})},style:{color:"#ffffff",padding:"10px",cursor:"pointer"}}),Object(S.jsxs)("span",{className:"logo_container",children:[Object(S.jsx)("img",{id:"logo",src:"/images/college_logo.jpg"}),Object(S.jsx)(o.b,{to:{pathname:"/",state:{fromDashboard:!0}},children:"College Management App"})]})]}),Object(S.jsx)(E,{showNav:this.state.showNav,onHideNav:this.onHideNav})]})}}]),a}(s.Component),_=function(e){return Object(S.jsxs)("div",{children:[Object(S.jsx)(N,{}),e.children]})},L=a(3),C=a(5),T=a.n(C);function I(e){var t=e.userEmail,a=e.userPassword;return{type:"USER_LOGIN",payload:T.a.post("/api/loginUser",{userEmail:t,userPassword:a}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function A(e,t){return function(a){T.a.post("/api/updateUser/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_USER",payload:e})})).catch((function(e){console.log(e)}))}}function k(e){return{type:"USER_LOGOUT",payload:T.a.get("/api/logoutUser").then((function(){setTimeout((function(){e.push("/login")}),1e3)})).catch((function(e){return console.log(e)}))}}var R=function(e){var t=e.formData,a=e.changeHandle,s=e.id,n=function(){var e=null;return!t.isValid&&t.validation&&(e=Object(S.jsx)("div",{className:"error",children:t.validationMessage})),e};return Object(S.jsx)("div",{children:function(){var e=null;switch(t.element){case"input":e=Object(S.jsxs)("div",{className:"form-group form-inline",children:[Object(S.jsxs)("label",{children:[t.config.label,Object(S.jsx)("input",Object(L.a)(Object(L.a)({},t.config),{},{value:t.value,onChange:function(e){return a({event:e,id:s,isBlurred:!1})},onBlur:function(e){return a({event:e,id:s,isBlurred:!0})}}))]}),n()]});break;case"select":e=Object(S.jsx)("div",{className:"form-group form-inline",children:Object(S.jsxs)("label",{children:[t.config.label,Object(S.jsxs)("select",Object(L.a)(Object(L.a)({},t.config),{},{value:t.value,defaultValue:t.defaultValue||"",name:t.config.name,onChange:function(e){return a({event:e,id:s,isBlurred:!1})},onBlur:function(e){return a({event:e,id:s,isBlurred:!0})},children:[t.defaultValue?null:Object(S.jsx)("option",{value:"",disabled:!0,children:"Choose an option..."}),t.config.options.map((function(e,t){return Object(S.jsx)("option",{value:e.id,children:e.name},t)}))]}))]})});break;default:e=null}return e}()})},P=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",isLoading:!1,formData:{userEmail:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email..."},validation:{required:!0,email:!0},isValid:!1,isBlurred:!1,validationMessage:""},userPassword:{element:"input",value:"",config:{name:"password_input",type:"password",placeholder:"Enter your password..."},validation:{required:!0,minLength:6},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}return t},e.fetchSubmitButton=function(){return e.state.isLoading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Log in"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s&&(document.body.click(),e.setState({isLoading:!0,registerError:""}),e.props.dispatch(I(a)))},e.fetchError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isLoading:!1,error:e.users.login.logInMessage?e.users.login.logInMessage:""}),e.users.login.user&&this.props.history.push("/")}},{key:"render",value:function(){var e=this;return this.props.users.login.isAuth?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Log in"}),Object(S.jsx)(R,{id:"userEmail",formData:this.state.formData.userEmail,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"userPassword",formData:this.state.formData.userPassword,changeHandle:function(t){return e.updateForm(t)}}),this.fetchSubmitButton(),this.fetchError()]})})}}]),a}(s.Component);var w=Object(i.b)((function(e){return{users:e.users}}))(P),B=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch(k(this.props.history))}},{key:"render",value:function(){return Object(S.jsx)("div",{className:"logout_container",children:Object(S.jsx)("h1",{children:"Sorry to see you go..."})})}}]),a}(s.Component);var M=Object(i.b)((function(e){return{users:e.users}}))(B);function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;return function(a){T.a.get("/api/getStudents?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"STUDENTS_LIST",payload:{studentsData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredStudents?keyword=".concat(e)).then((function(a){a=a.data,t({type:"FILTERED_STUDENTS_LIST",payload:{studentsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function G(e){return function(t){T.a.get("/api/getStudentByEmail/".concat(e)).then((function(e){(e=e.data)&&t({type:"GET_STUDENT",payload:e})})).catch((function(e){console.log(e)}))}}function Y(e){return function(t){T.a.post("/api/addStudent",e).then((function(e){e=e.data,t({type:"ADD_STUDENT",payload:e})})).catch((function(e){console.log(e)}))}}function H(e,t){return function(a){T.a.post("/api/updateStudent/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_STUDENT",payload:e})})).catch((function(e){console.log(e)}))}}function V(e){return function(t){T.a.delete("/api/deleteStudent/".concat(e)).then((function(e){e=e.data,t({type:"DELETE_STUDENT",payload:e})})).catch((function(e){console.log(e)}))}}function q(){return{type:"FACULTIES_LIST",payload:T.a.get("/api/getFaculties").then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999999;return function(a){T.a.get("/api/getStudyGroups?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"STUDY_GROUPS_LIST",payload:{studyGroupsData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredStudyGroups?keyword=".concat(e)).then((function(a){a=a.data,t({type:"FILTERED_STUDY_GROUPS_LIST",payload:{studyGroupsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function J(e){return function(t){T.a.post("/api/addStudyGroup",e).then((function(e){e=e.data,t({type:"ADD_STUDY_GROUP",payload:e})})).catch((function(e){console.log(e)}))}}function $(e,t){return function(a){T.a.post("/api/updateStudyGroup/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_STUDY_GROUP",payload:e})})).catch((function(e){console.log(e)}))}}function K(){return{type:"STUDY_YEARS_LIST",payload:T.a.get("/api/getStudyYears").then((function(e){return e.data})).catch((function(e){console.log(e)}))}}var z=a(18),Z=a.n(z);function Q(e){return function(t){T.a.post("/api/addCourse",e).then((function(e){e=e.data,t({type:"ADD_COURSE",payload:e})})).catch((function(e){console.log(e)}))}}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;return function(a){T.a.get("/api/getCourses?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"COURSES_LIST",payload:{coursesData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredCourses?keyword=".concat(e)).then((function(a){a=a.data,t({type:"KEYWORD_FILTERED_COURSES_LIST",payload:{coursesData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function ae(e){return function(t){T.a.get("/api/getCoursesByProfessorEmail/".concat(e)).then((function(e){e=e.data,t({type:"FILTERED_COURSES_LIST",payload:e})})).catch((function(e){console.log(e)}))}}function se(e){return function(t){T.a.get("/api/getCoursesByStudentEmail/".concat(e)).then((function(e){e=e.data,t({type:"FILTERED_COURSES_LIST",payload:e})})).catch((function(e){console.log(e)}))}}function ne(e,t){return function(a){T.a.post("/api/updateCourse/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_COURSE",payload:e})})).catch((function(e){console.log(e)}))}}function re(e,t){return{type:"MARKS_LIST",payload:T.a.get("/api/getStudentMarksByStudyYear/?studentId=".concat(e,"&studyYearId=").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function oe(e,t){return function(a){T.a.post("/api/updateMark/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_MARK",payload:e})})).catch((function(e){console.log(e)}))}}function ie(e){return function(t){T.a.get("/api/getPresencesByPresenceSheet/".concat(e)).then((function(e){e=e.data,t({type:"PRESENCES_LIST",payload:e})})).catch((function(e){console.log(e)}))}}function ce(e,t){return function(a){T.a.get("/api/getStudentPresencesByCourseId/?studentId=".concat(e,"&courseId=").concat(t)).then((function(e){e=e.data,a({type:"PRESENCES_LIST",payload:e})})).catch((function(e){console.log(e)}))}}function de(e){return function(t){T.a.post("/api/addPresenceSheet",e).then((function(e){e=e.data,t({type:"ADD_PRESENCE_SHEET",payload:e})})).catch((function(e){console.log(e)}))}}function ue(e,t){return function(a){T.a.post("/api/updatePresence/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_PRESENCE",payload:e})})).catch((function(e){console.log(e)}))}}var le=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={edit:!1,loading:!0,student:null,courses:[],marks:[],presences:[],studyYears:[],isMarksListLoaded:!1,isPresenceListLoaded:!1,selectedStudyYear:"",selectedCourse:"",error:"",formData:{studentFirstName:{element:"input",value:"",config:{disabled:!0,name:"studentFirstName",label:"First name: ",type:"text",placeholder:"Student first name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studentLastName:{element:"input",value:"",config:{disabled:!0,name:"studentLastName",label:"Last name: ",type:"text",placeholder:"Student last name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studentEmail:{element:"input",value:"",config:{disabled:!0,name:"studentEmail",label:"Email: ",type:"text",placeholder:"Student email..."},validation:{required:!0,email:!0},isValid:!1,isBlurred:!1,validationMessage:""},studentDob:{element:"input",value:"",config:{disabled:!0,name:"studentDob",label:"Date of birth: ",placeholder:"Student date of birth..."},validation:{required:!0,date:!0},isValid:!1,isBlurred:!1,validationMessage:""},studentAddress:{element:"input",value:"",config:{disabled:!0,name:"studentAddress",label:"Student address: ",placeholder:"Student address..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studentPhone:{element:"input",value:"",config:{disabled:!0,name:"studentPhone",label:"Student phone: ",placeholder:"Student phone..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studentIsTaxed:{element:"select",value:"",defaultValue:"",config:{name:"studentIsTaxed",label:"Student financing option: ",disabled:!0,options:[{id:0,name:"taxed"},{id:1,name:"budget"}]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studyGroupId:{element:"select",value:"",defaultValue:"",config:{disabled:!0,name:"studyGroupId",label:"Study group: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studyYearId:{element:"select",value:"",defaultValue:"",config:{disabled:!0,name:"studyYearId",label:"Study year: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},facultyId:{element:"select",value:"",defaultValue:"",config:{disabled:!0,name:"facultyId",label:"Student faculty: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"}),Object(S.jsx)("button",{onClick:function(t){return e.cancelHandle()},children:"CANCEL"})]})},e.gotToStudyGroupHandle=function(){e.props.history.push("/studygroup/".concat(e.state.student.studyGroupId))},e.renderGoToStudyGroupButton=function(){return Object(S.jsx)("button",{onClick:function(){return e.gotToStudyGroupHandle()},children:"GO TO STUDY GROUP"})},e.renderError=function(){return""!=e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):null},e.cancelHandle=function(){for(var t=e.state.formData,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];t[n].value=e.state.student[n],t[n].isValid=!0,t[n].config.disabled=!0,t[n].isBlurred=!1}t.studentDob.value=Z()(e.state.student.studentDob).format("DD/MM/YYYY"),t.studentIsTaxed.defaultValue=1==e.state.student.studentIsTaxed?0:1,t.studentIsTaxed.value=1==e.state.student.studentIsTaxed?0:1,t.facultyId.defaultValue=e.state.student.facultyId,t.facultyId.value=e.state.student.facultyId,t.studyGroupId.defaultValue=e.state.student.studyGroupId,t.studyGroupId.value=e.state.student.studyGroupId,t.studyYearId.defaultValue=e.state.student.studyYearId,t.studyYearId.value=e.state.student.studyYearId,e.setState({formData:t,edit:!1,error:""})},e.editHandlle=function(){document.body.click();var t=e.state.formData;for(var a in t)t[a].config.disabled=!1;e.setState({formData:t,edit:!0})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),a.studentDob=Z()(a.studentDob,"DD/MM/YYYY"),e.props.dispatch({type:"CLEAR_STUDENT",payload:null}),e.props.dispatch(H(e.state.student.studentId,a)),e.setState({error:"",loading:!0,edit:!1})):e.setState({error:"Something must have happened..."})},e.renderCourses=function(e){return e.map((function(e){return Object(S.jsx)("div",{className:"student_course",children:Object(S.jsx)(o.b,{to:{pathname:"/course/".concat(e.courseId),state:{fromDashboard:!0}},children:"# ".concat(e.courseName," with ").concat(e.Professor.professorFirstName," ").concat(e.Professor.professorLastName," ")})})}))},e.changeMarksHandle=function(t){e.setState({selectedStudyYear:t.target.value,isMarksListLoaded:!1}),e.props.dispatch({type:"CLEAR_MARKS_LIST",payload:null}),e.props.dispatch(re(e.state.student.studentId,t.target.value))},e.renderMarks=function(){if(e.state.isMarksListLoaded)return e.state.marks.length>0?e.state.marks.map((function(e){return Object(S.jsxs)("div",{className:"mark",children:[Object(S.jsx)(o.b,{to:{pathname:"/subject/".concat(e.Course.Subject.subjectId),state:{fromDashboard:!0}},children:Object(S.jsx)("div",{className:"left",children:e.Course.Subject.subjectName})}),Object(S.jsx)("div",{className:"right",children:e.isGraded?"".concat(e.theoryMarkScore+e.practicalMarkScore," / 100"):"NOT GRADED"})]},e.markId)})):Object(S.jsx)("div",{className:"message",children:"No marks yet."})},e.renderMarksCatalog=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Marks catalog: "}),Object(S.jsxs)("select",{value:e.state.selectedStudyYear,defaultValue:"",name:"marks_catalog",onChange:function(t){return e.changeMarksHandle(t)},children:[Object(S.jsx)("option",{value:"",disabled:!0,children:"Select wanted study year catalog..."}),e.state.studyYears.map((function(e){return Object(S.jsx)("option",{value:e.studyYearId,children:e.studyYearOrder},e.studyYearId)}))]}),e.renderMarks()]})},e.changePresencesHandle=function(t){e.setState({selectedCourse:t.target.value,isPresenceListLoaded:!1}),e.props.dispatch({type:"CLEAR_PRESENCES",payload:null}),e.props.dispatch(ce(e.state.student.studentId,t.target.value))},e.renderPresences=function(){if(e.state.isPresenceListLoaded)return e.state.presences.length>0?e.state.presences.map((function(e){return Object(S.jsxs)("div",{className:"presence_container",children:[Object(S.jsx)("div",{className:"left",children:"".concat(Z()(e.PresenceSheet.presenceSheetDate).format("DD/MM/YYYY"))}),Object(S.jsx)("div",{className:"right",children:"".concat(e.presenceStatus?"PRESENT":"ABSENT")})]})})):Object(S.jsx)("div",{className:"message",children:"No presences yet."})},e.renderPresencesReport=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Presences report: "}),Object(S.jsxs)("select",{value:e.state.selectedCourse,defaultValue:"",name:"presences_report",onChange:function(t){return e.changePresencesHandle(t)},children:[Object(S.jsx)("option",{value:"",disabled:!0,children:"Select wanted course for presences report..."}),e.state.courses.map((function(e){return Object(S.jsx)("option",{value:e.courseId,children:e.courseName},e.courseId)}))]}),e.renderPresences()]})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e,t;this.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),this.props.dispatch({type:"CLEAR_STUDENT",payload:null}),this.props.dispatch({type:"CLEAR_STUDY_GROUPS",payload:null}),this.props.dispatch({type:"CLEAR_MARKS_LIST",payload:null}),this.props.dispatch({type:"CLEAR_PRESENCES",payload:null}),this.props.dispatch(q()),this.props.dispatch((e=this.props.match.params.id,function(t){T.a.get("/api/getCoursesByStudentId/".concat(e)).then((function(e){(e=e.data)&&t({type:"COURSES_LIST",payload:e})})).catch((function(e){console.log(e)}))})),this.props.dispatch((t=this.props.match.params.id,function(e){T.a.get("/api/getStudent/".concat(t)).then((function(t){(t=t.data)&&e({type:"GET_STUDENT",payload:t})})).catch((function(e){console.log(e)}))})),this.props.dispatch(function(e){return{type:"STUDY_GROUPS_LIST",payload:T.a.get("/api/getStudyGroupsMatched?studentId=".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}(this.props.match.params.id)),this.props.dispatch(K())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.faculties.facultiesList&&e.courses.coursesList&&e.studyGroups.studyGroupsList&&e.studyYears.studyYearsList){if(e.students.student){"student"==this.props.users.login.user.userRole&&this.props.users.login.user.userEmail!=e.students.student.studentEmail&&this.props.history.push("/not-found"),console.log(e);var t=this.state.formData,a=[],s=[],n=[];e.faculties.facultiesList.map((function(e){a.push({id:e.facultyId,name:e.facultyName})})),e.studyGroups.studyGroupsList.map((function(e){s.push({id:e.studyGroupId,name:e.studyGroupId})})),e.studyYears.studyYearsList.map((function(e){n.push({id:e.studyYearId,name:e.studyYearOrder})}));for(var r=0,o=Object.keys(t);r<o.length;r++){t[u=o[r]].value=e.students.student[u],t[u].isValid=!0}t.studentDob.value=Z()(t.studentDob.value).format("DD/MM/YYYY"),t.studentIsTaxed.defaultValue=1==e.students.student.studentIsTaxed?0:1,t.studentIsTaxed.value=1==e.students.student.studentIsTaxed?0:1,t.facultyId.defaultValue=e.students.student.facultyId,t.facultyId.value=e.students.student.facultyId,t.studyGroupId.defaultValue=e.students.student.studyGroupId,t.studyGroupId.value=e.students.student.studyGroupId,t.studyYearId.defaultValue=e.students.student.studyYearId,t.studyYearId.value=e.students.student.studyYearId,t.facultyId.config.options=a,t.studyGroupId.config.options=s,t.studyYearId.config.options=n,this.setState({student:e.students.student,courses:e.courses.coursesList,studyYears:e.studyYears.studyYearsList,formData:t,loading:!1})}if(e.students.updatedStudent)if(e.students.updatedStudent.message)this.setState({error:e.students.updatedStudent.message});else{for(var i=this.state.formData,c=0,d=Object.keys(i);c<d.length;c++){var u;i[u=d[c]].config.disabled=!0}this.setState({student:e.students.updatedStudent,loading:!1,edit:!1,formData:i}),window.location.reload()}null!=e.marks.marksList&&(console.log(e),this.setState({marks:e.marks.marksList,isMarksListLoaded:!0})),null!=e.presenceSheets.presencesList&&(console.log(e),this.setState({presences:e.presenceSheets.presencesList,isPresenceListLoaded:!0}))}}},{key:"render",value:function(){var e=this;return!this.state.loading&&this.state.student?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"about_container",children:[Object(S.jsxs)("div",{className:"about_left_container",children:[Object(S.jsx)(R,{id:"studentFirstName",formData:this.state.formData.studentFirstName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentLastName",formData:this.state.formData.studentLastName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentEmail",formData:this.state.formData.studentEmail,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentDob",formData:this.state.formData.studentDob,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentAddress",formData:this.state.formData.studentAddress,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentPhone",formData:this.state.formData.studentPhone,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentIsTaxed",formData:this.state.formData.studentIsTaxed,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyGroupId",formData:this.state.formData.studyGroupId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyYearId",formData:this.state.formData.studyYearId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"facultyId",formData:this.state.formData.facultyId,changeHandle:function(t){return e.updateForm(t)}}),"admin"==this.props.users.login.user.userRole?this.renderButton():null,this.renderGoToStudyGroupButton(),this.renderError()]}),Object(S.jsxs)("div",{className:"about_right_container",children:[Object(S.jsx)("h2",{children:"Courses: "}),this.renderCourses(this.state.courses),this.renderMarksCatalog()]})]}),Object(S.jsx)("div",{className:"presences_report",children:this.renderPresencesReport()})]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var pe=Object(i.b)((function(e){return{students:e.students,faculties:e.faculties,studyGroups:e.studyGroups,courses:e.courses,studyYears:e.studyYears,marks:e.marks,presenceSheets:e.presenceSheets}}))(le);function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;return function(a){T.a.get("/api/getProfessors?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"PROFESSORS_LIST",payload:{professorsData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredProfessors?keyword=".concat(e)).then((function(a){a=a.data,t({type:"FILTERED_PROFESSORS_LIST",payload:{professorsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function fe(e){return function(t){T.a.get("/api/getProfessorByEmail/".concat(e)).then((function(e){(e=e.data)&&t({type:"GET_PROFESSOR",payload:e})})).catch((function(e){console.log(e)}))}}function je(e){return function(t){T.a.post("/api/addProfessor",e).then((function(e){e=e.data,t({type:"ADD_PROFESSOR",payload:e})})).catch((function(e){console.log(e)}))}}function ve(e,t){return function(a){T.a.post("/api/updateProfessor/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_PROFESSOR",payload:e})})).catch((function(e){console.log(e)}))}}function be(e){return function(t){T.a.delete("/api/deleteProfessor/".concat(e)).then((function(e){e=e.data,t({type:"DELETE_PROFESSOR",payload:e})})).catch((function(e){console.log(e)}))}}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;return function(a){T.a.get("/api/getDepartments?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"DEPARTMENTS_LIST",payload:{departmentsData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredDepartments?keyword=".concat(e)).then((function(a){a=a.data,t({type:"FILTERED_DEPARTMENTS_LIST",payload:{departmentsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function Oe(e){return{type:"ADD_DEPARTMENT",payload:T.a.post("/api/addDepartment",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function Se(e,t){return{type:"UPDATE_DEPARTMENT",payload:T.a.post("/api/updateDepartment/".concat(e),t).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}var xe=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={edit:!1,loading:!0,professor:null,courses:[],error:"",formData:{professorFirstName:{element:"input",value:"",config:{name:"professorFirstName",label:"First name: ",type:"text",placeholder:"Professor first name...",disabled:!0},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorLastName:{element:"input",value:"",config:{name:"professorLastName",label:"Last name: ",type:"text",placeholder:"Professor last name...",disabled:!0},validation:{required:!0,minLength:6},isValid:!1,isBlurred:!1,validationMessage:""},professorEmail:{element:"input",value:"",config:{name:"professorEmail",label:"Email: ",type:"text",placeholder:"Professor email...",disabled:!0},validation:{required:!0,email:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorDob:{element:"input",value:"",config:{name:"professorDob",label:"Date of birth: ",placeholder:"Professor date of birth...",disabled:!0},validation:{required:!0,date:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorAddress:{element:"input",value:"",config:{name:"professorAddress",label:"Professor address: ",placeholder:"Professor address...",disabled:!0},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorPhone:{element:"input",value:"",config:{name:"professorPhone",label:"Professor phone: ",placeholder:"Professor phone...",disabled:!0},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorSalary:{element:"input",value:"",config:{name:"professorSalary",label:"Professor salary: ",placeholder:"Professor salary...",disabled:!0},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},departmentId:{element:"select",value:"",config:{name:"departmentId",label:"Department: ",options:[],disabled:!0},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"}),Object(S.jsx)("button",{onClick:function(t){return e.cancelHandle(t)},children:"CANCEL"})]})},e.renderError=function(){return""!=e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):null},e.cancelHandle=function(){for(var t=e.state.formData,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];t[n].value=e.state.professor[n],t[n].isValid=!0,t[n].config.disabled=!0,t[n].isBlurred=!1}t.professorDob.value=Z()(e.state.professor.professorDob).format("DD/MM/YYYY"),e.setState({formData:t,edit:!1,error:""})},e.editHandlle=function(){document.body.click();var t=e.state.formData;for(var a in t)t[a].config.disabled=!1;e.setState({formData:t,edit:!0})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),a.professorDob=Z()(a.professorDob,"DD/MM/YYYY"),e.props.dispatch({type:"CLEAR_PROFESSOR",payload:null}),e.props.dispatch(ve(e.state.professor.professorId,a)),e.setState({error:"",loading:!0,edit:!1})):e.setState({error:"Something must have happened..."})},e.renderCourses=function(e){return e.length>0?e.map((function(e){return Object(S.jsx)(o.b,{to:{pathname:"/course/".concat(e.courseId),state:{fromDashboard:!0}},children:Object(S.jsx)("div",{className:"professor_course",children:"# ".concat(e.courseName,", for study group no. ").concat(e.studyGroupId," ")})})})):Object(S.jsx)("div",{className:"message",children:"No courses assigned to this professor yet."})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e,t;this.props.dispatch({type:"CLEAR_DEPARTMENTS_LIST",payload:null}),this.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),this.props.dispatch({type:"CLEAR_PROFESSOR",payload:null}),this.props.dispatch(ye()),this.props.dispatch((e=this.props.match.params.id,function(t){T.a.get("/api/getCoursesByProfessorId/".concat(e)).then((function(e){(e=e.data)&&t({type:"COURSES_LIST",payload:e})})).catch((function(e){console.log(e)}))})),this.props.dispatch((t=this.props.match.params.id,function(e){T.a.get("/api/getProfessor/".concat(t)).then((function(t){(t=t.data)&&e({type:"GET_PROFESSOR",payload:t})})).catch((function(e){console.log(e)}))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.departments.departmentsList&&e.courses.coursesList){if(e.professors.professor){"professor"==this.props.users.login.user.userRole&&this.props.users.login.user.userEmail!=e.professors.professor.professorEmail&&this.props.history.push("/not-found");var t=this.state.formData,a=[];e.departments.departmentsList.departmentsData.map((function(e){a.push({id:e.departmentId,name:e.departmentName})}));for(var s=0,n=Object.keys(t);s<n.length;s++){t[c=n[s]].value=e.professors.professor[c],t[c].isValid=!0}t.professorDob.value=Z()(t.professorDob.value).format("DD/MM/YYYY"),t.departmentId.defaultValue=e.professors.professor.departmentId,t.departmentId.value=e.professors.professor.departmentId,t.departmentId.config.options=a,console.log(t),this.setState({professor:e.professors.professor,courses:e.courses.coursesList,formData:t,loading:!1})}if(e.professors.updatedProfessor)if(e.professors.updatedProfessor.message)this.setState({error:e.professors.updatedProfessor.message});else{for(var r=this.state.formData,o=0,i=Object.keys(r);o<i.length;o++){var c;r[c=i[o]].config.disabled=!0}this.setState({professor:e.professors.updatedProfessor,loading:!1,edit:!1,formData:r})}}}},{key:"render",value:function(){var e=this;return!this.state.loading&&this.state.professor?Object(S.jsxs)("div",{className:"about_container",children:[Object(S.jsxs)("div",{className:"about_left_container",children:[Object(S.jsx)(R,{id:"professorFirstName",formData:this.state.formData.professorFirstName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorLastName",formData:this.state.formData.professorLastName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorEmail",formData:this.state.formData.professorEmail,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorDob",formData:this.state.formData.professorDob,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorAddress",formData:this.state.formData.professorAddress,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorPhone",formData:this.state.formData.professorPhone,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorSalary",formData:this.state.formData.professorSalary,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"departmentId",formData:this.state.formData.departmentId,changeHandle:function(t){return e.updateForm(t)}}),"admin"==this.props.users.login.user.userRole?this.renderButton():null,this.renderError()]}),Object(S.jsxs)("div",{className:"about_right_container",children:[Object(S.jsx)("h2",{children:"Courses: "}),this.renderCourses(this.state.courses)]})]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var De=Object(i.b)((function(e){return{professors:e.professors,departments:e.departments,courses:e.courses}}))(xe),Ee=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={edit:!1,loading:!1,studyGroup:null,students:[],courses:[],error:"",formData:{studyGroupId:{element:"input",value:"",config:{disabled:!0,name:"studyGroupId",label:"Study group no.: ",type:"text",placeholder:"Study group number..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studyGroupDescription:{element:"input",value:"",config:{disabled:!0,name:"studyGroupDescription",label:"Description: ",type:"text",placeholder:"Study group description..."},validation:{required:!0,minLength:6},isValid:!1,isBlurred:!1,validationMessage:""},facultyId:{element:"select",value:"",config:{disabled:!0,name:"facultyId",label:"Faculty: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},studyYearId:{element:"select",value:"",config:{disabled:!0,name:"studyYearId",label:"Study year: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"}),Object(S.jsx)("button",{onClick:function(t){return e.cancelHandle(t)},children:"CANCEL"})]})},e.renderError=function(){return""!=e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):null},e.editHandlle=function(){var t=e.state.formData;for(var a in t)"studyGroupId"!=a&&(t[a].config.disabled=!1);e.setState({formData:t,edit:!0})},e.cancelHandle=function(){for(var t=e.state.formData,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];t[n].value=e.state.studyGroup[n],t[n].isValid=!0,t[n].config.disabled=!0,t[n].isBlurred=!1}t.studyYearId.defaultValue=e.state.studyGroup.studyYearId,t.studyYearId.value=e.state.studyGroup.studyYearId,t.facultyId.defaultValue=e.state.studyGroup.facultyId,t.facultyId.value=e.state.studyGroup.facultyId,e.setState({formData:t,edit:!1,error:""})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),e.props.dispatch({type:"CLEAR_STUDY_GROUP",payload:null}),e.props.dispatch($(e.state.studyGroup.studyGroupId,a)),e.setState({error:"",loading:!0,edit:!1})):e.setState({error:"Something must have happened..."})},e.renderStudents=function(t){return t.length>0?t.map((function(t){return Object(S.jsx)("div",{className:"studygroup_student",children:"student"!=e.props.users.login.user.userRole?Object(S.jsx)(o.b,{to:{pathname:"/student/".concat(t.studentId),state:{fromDashboard:!0}},children:"--- ".concat(t.studentFirstName," ").concat(t.studentLastName)}):Object(S.jsx)("div",{children:"--- ".concat(t.studentFirstName," ").concat(t.studentLastName)})})})):Object(S.jsx)("div",{className:"message",children:"No students in this study group yet."})},e.renderCourses=function(e){return e.length>0?e.map((function(e){return Object(S.jsx)("div",{className:"studygroup_course",children:Object(S.jsx)(o.b,{to:{pathname:"/course/".concat(e.courseId),state:{fromDashboard:!0}},children:"# ".concat(e.courseName," with ").concat(e.Professor.professorFirstName," ").concat(e.Professor.professorLastName," ")})})})):Object(S.jsx)("div",{className:"message",children:"This study group was not assigned courses yet."})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e;this.props.dispatch({type:"CLEAR_STUDENTS_LIST",payload:null}),this.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),this.props.dispatch({type:"CLEAR_STUDY_GROUP",payload:null}),this.props.dispatch(q()),this.props.dispatch(K()),this.props.dispatch((e=this.props.match.params.id,function(t){T.a.get("/api/getStudentsByStudyGroup/".concat(e)).then((function(e){(e=e.data)&&t({type:"STUDENTS_LIST",payload:e})})).catch((function(e){console.log(e)}))})),this.props.dispatch(function(e){return function(t){T.a.get("/api/getCoursesByStudyGroup/".concat(e)).then((function(e){(e=e.data)&&t({type:"COURSES_LIST",payload:e})})).catch((function(e){console.log(e)}))}}(this.props.match.params.id)),this.props.dispatch(function(e){return function(t){T.a.get("/api/getStudyGroup/".concat(e)).then((function(e){e=e.data,t({type:"GET_STUDY_GROUP",payload:e})})).catch((function(e){console.log(e)}))}}(this.props.match.params.id))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.faculties.facultiesList&&e.studyYears.studyYearsList&&e.students.studentsList&&e.courses.coursesList){if(e.studyGroups.studyGroup){console.log(e);var t=this.state.formData,a=[],s=[];e.faculties.facultiesList.map((function(e){a.push({id:e.facultyId,name:e.facultyName})})),e.studyYears.studyYearsList.map((function(e){s.push({id:e.studyYearId,name:e.studyYearOrder})}));for(var n=0,r=Object.keys(t);n<r.length;n++){t[d=r[n]].value=e.studyGroups.studyGroup[d],t[d].isValid=!0}t.facultyId.defaultValue=e.studyGroups.studyGroup.facultyId,t.facultyId.value=e.studyGroups.studyGroup.facultyId,t.studyYearId.defaultValue=e.studyGroups.studyGroup.studyYearId,t.studyYearId.value=e.studyGroups.studyGroup.studyYearId,t.facultyId.config.options=a,t.studyYearId.config.options=s,this.setState({studyGroup:e.studyGroups.studyGroup,students:e.students.studentsList,courses:e.courses.coursesList,formData:t,loading:!1})}if(e.studyGroups.updatedStudyGroup)if(e.studyGroups.updatedStudyGroup.message)this.setState({error:e.studyGroups.updatedStudyGroup.message});else{for(var o=this.state.formData,i=0,c=Object.keys(o);i<c.length;i++){var d;o[d=c[i]].config.disabled=!0}this.setState({studyGroup:e.studyGroups.updatedStudyGroup,loading:!1,edit:!1,formData:o})}}}},{key:"render",value:function(){var e=this;return!this.state.loading&&this.state.studyGroup?Object(S.jsxs)("div",{className:"about_container",children:[Object(S.jsxs)("div",{className:"about_left_container",children:[Object(S.jsx)(R,{id:"studyGroupId",formData:this.state.formData.studyGroupId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyGroupDescription",formData:this.state.formData.studyGroupDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"facultyId",formData:this.state.formData.facultyId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyYearId",formData:this.state.formData.studyYearId,changeHandle:function(t){return e.updateForm(t)}}),"admin"==this.props.users.login.user.userRole?this.renderButton():null,this.renderError()]}),Object(S.jsxs)("div",{className:"about_right_container",children:[Object(S.jsx)("h2",{children:"Students: "}),this.renderStudents(this.state.students)]}),Object(S.jsxs)("div",{className:"more",children:[Object(S.jsx)("h2",{children:"Courses: "}),this.renderCourses(this.state.courses)]})]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var Ne=Object(i.b)((function(e){return{studyGroups:e.studyGroups,students:e.students,faculties:e.faculties,studyYears:e.studyYears,courses:e.courses}}))(Ee),_e=a(43);function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999999;return function(a){T.a.get("/api/getSubjects?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"SUBJECTS_LIST",payload:{subjectsData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredSubjects?keyword=".concat(e)).then((function(a){a=a.data,t({type:"FILTERED_SUBJECTS_LIST",payload:{subjectsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function Te(e,t){return function(a){T.a.post("/api/updateSubject/".concat(e),t).then((function(e){e=e.data,a({type:"UPDATE_SUBJECT",payload:e})})).catch((function(e){console.log(e)}))}}function Ie(e){return function(t){T.a.post("/api/addSubject",e).then((function(e){e=e.data,t({type:"ADD_SUBJECT",payload:e})})).catch((function(e){console.log(e)}))}}var Ae=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={presenceStatus:null,disabled:!1},e.renderPresenceStatusOptions=function(){return Object(S.jsxs)("select",{value:e.state.presenceStatus,defaultValue:e.props.presence.presenceStatus||"",disabled:e.state.disabled,name:"presence_status",onChange:function(t){return e.changeHandle(t)},children:[Object(S.jsx)("option",{value:"",disabled:!0,children:"Choose an option..."}),Object(S.jsx)("option",{value:!0,children:"Present"},0),Object(S.jsx)("option",{value:!1,children:"Absent"},1)]})},e.saveHandle=function(t,a){e.props.presence.presenceStatus=e.state.presenceStatus,e.setState({disabled:!0}),e.props.dispatch(ue(t,a))},e.renderOptions=function(){return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"edit",onClick:function(){return e.saveHandle(e.props.presence.presenceId,e.props.presence)},children:"SAVE"})})},e.changeHandle=function(t){e.setState({presenceStatus:t.target.value})},e}return Object(h.a)(a,[{key:"componentWillReceiveProps",value:function(e){null!=e.presenceSheets.updatedPresence&&(e.presenceSheets.updatedPresence.message?window.alert(e.presenceSheets.updatedPresence.message):this.setState({disabled:!0}),this.props.dispatch({type:"CLEAR_PRESENCE",payload:null}))}},{key:"render",value:function(){return Object(S.jsxs)("div",{className:"presence_container",children:[Object(S.jsx)("h3",{children:"".concat(this.props.presence.Student.studentFirstName," ").concat(this.props.presence.Student.studentLastName)}),this.renderPresenceStatusOptions(),this.renderOptions()]},this.props.presence.presenceId)}}]),a}(s.Component);var ke=Object(i.b)((function(e){return{presenceSheets:e.presenceSheets}}))(Ae),Re=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isPresenceSheetDone:!1,isPresencesListLoaded:!1,presenceSheet:{},presences:[],error:"",loading:!1,formData:{presenceSheetDate:{element:"input",value:"",config:{name:"presence_sheet_date",label:"Presence sheet date: ",type:"text",placeholder:"Enter date format DD/MM/YYYY..."},validation:{required:!0,date:!0},valid:!1,isBlurred:!1,validationMessage:""},presenceSheetRemarks:{element:"input",value:"",config:{name:"presence_sheet_remarks",label:"Remarks: ",type:"text",placeholder:"Remarks..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""}}},e.renderPresencesList=function(e){return e.map((function(e){return Object(S.jsx)(ke,{presence:e})}))},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"GENERATE"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(a.courseId=e.props.courseId,document.body.click(),e.setState({error:"",loading:!0}),e.props.dispatch(de(a))):e.setState({error:"Something must have happened..."})},e.renderCompleteButton=function(){return Object(S.jsx)("button",{id:"complete_button",onClick:function(){return e.props.addPresenceSheetHandle()},children:"COMPLETE"})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_PRESENCE_SHEET",payload:null}),this.props.dispatch({type:"CLEAR_PRESENCES",payload:null}),this.setState({isPresenceSheetDone:!1,isPresencesListLoaded:!1})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.presenceSheets.presenceSheet&&(this.setState({presenceSheet:e.presenceSheets.presenceSheet,isPresenceSheetDone:!0,loading:!1}),this.props.dispatch(ie(this.state.presenceSheet.presenceSheetId))),e.presenceSheets.presencesList&&this.setState({presences:e.presenceSheets.presencesList,isPresencesListLoaded:!0,loading:!1})}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):0==this.state.isPresenceSheetDone?Object(S.jsxs)("div",{className:"add_presences_container",children:[Object(S.jsx)("h2",{children:"Presence sheet"}),Object(S.jsx)(R,{id:"presenceSheetDate",formData:this.state.formData.presenceSheetDate,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"presenceSheetRemarks",formData:this.state.formData.presenceSheetRemarks,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]}):Object(S.jsxs)("div",{className:"add_presences_container",children:[Object(S.jsx)("div",{className:"report_title",children:"Presence report for date - ".concat(Z()(this.state.presenceSheet.presenceSheetDate).format("DD/MM/YYYY"))}),this.renderPresencesList(this.state.presences),this.renderCompleteButton()]})}}]),a}(s.Component);var Pe=Object(i.b)((function(e){return{presenceSheets:e.presenceSheets}}))(Re),we=a(25),Be=a.n(we),Me=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={mark:{},error:"",edit:!1,loading:!1,formData:{theoryMarkScore:{element:"input",value:"",config:{disabled:!0,name:"theoryMarksScore",type:"text",placeholder:"Theory score..."},validation:{required:!1},isValid:!1,isBlurred:!1,validationMessage:""},practicalMarkScore:{element:"input",value:"",config:{disabled:!0,name:"practicalMarksScore",type:"text",placeholder:"Practical score..."},validation:{required:!1},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}if(e.validation.notGreaterThan){var u=e.value>=0&&e.value<=e.validation.notGreaterThan,l="".concat(u?"":"Invalid grade ! Check subject details");t=u?t:[u,l]}return t},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"})},e.editHandlle=function(){var t=e.state.formData;for(var a in t)t[a].config.disabled=!1;e.setState({formData:t,edit:!0})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);if(s){var o=e.state.formData;for(var i in o)o[i].config.disabled=!0;a.isGraded=!0,a.theoryMarkScore>0&&a.theoryMarkScore<=e.props.subjectTheoryMarks&&a.practicalMarkScore>0&&a.practicalMarkScore<=e.props.subjectPracticalMarks?(document.body.click(),console.log(a),e.setState({error:"",formData:o}),e.props.updateMark(e.state.mark.markId,a)):Be.a.fire({icon:"error",title:"Oops...",text:"Check the marks percentage in the subjects description!"}).then((function(t){if(t.isConfirmed){for(var a=e.state.formData,s=0,n=Object.keys(a);s<n.length;s++){var r=n[s];a[r].value=e.props.mark[r],a[r].isValid=!0}e.setState({formData:a})}}))}else e.setState({error:"Something must have happened..."});e.setState({edit:!1})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){console.log(this.props);for(var e=this.state.formData,t=0,a=Object.keys(e);t<a.length;t++){var s=a[t];e[s].value=this.props.mark[s],e[s].isValid=!0}this.setState({mark:this.props.mark,formData:e,loading:!1})}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loading"}):Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"mark_container",children:[Object(S.jsx)("div",{className:"student_name",children:Object(S.jsx)(o.b,{to:{pathname:"/student/".concat(this.state.mark.Student.studentId),state:{fromDashboard:!0}},children:"".concat(this.state.mark.Student.studentFirstName," ").concat(this.state.mark.Student.studentLastName)})}),Object(S.jsxs)("div",{className:"mark",children:[Object(S.jsx)("div",{className:"theory",children:Object(S.jsx)(R,{id:"theoryMarkScore",formData:this.state.formData.theoryMarkScore,changeHandle:function(t){return e.updateForm(t)}})}),Object(S.jsx)("div",{className:"practical",children:Object(S.jsx)(R,{id:"practicalMarkScore",formData:this.state.formData.practicalMarkScore,changeHandle:function(t){return e.updateForm(t)}})})]}),this.renderButton(),this.renderError()]})})}}]),a}(s.Component);var Ue=Object(i.b)((function(e){return{marks:e.marks}}))(Me);function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(s){T.a.get("/api/getExams?offset=".concat(e,"&limit=").concat(t)).then((function(n){n=n.data,s({type:"EXAMS_LIST",payload:{examsData:n,offset:e,limit:t,type:a}})})).catch((function(e){console.log(e)}))}}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredExams?keyword=".concat(e)).then((function(a){a=a.data,t({type:"KEYWORD_FILTERED_EXAMS_LIST",payload:{examsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function Ye(e){return{type:"FILTERED_EXAMS_LIST",payload:T.a.get("/api/getExamsByProfessorEmail/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function He(e){return{type:"FILTERED_EXAMS_LIST",payload:T.a.get("/api/getExamsByStudentEmail/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function Ve(e){return{type:"ADD_EXAM",payload:T.a.post("/api/addExam",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function qe(e,t){return{type:"UPDATE_EXAM",payload:T.a.post("/api/updateExam/".concat(e),t).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function We(e){return{type:"DELETE_EXAM",payload:T.a.delete("/api/deleteExam/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}var Xe=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isPresenceListLoaded:!1,isExamProgrammed:!1,exam:{},presenceSheet:{},presences:[],marks:[],edit:!1,isAddPresenceSheetSelected:!1,loading:!0,course:null,error:"",formData:{courseName:{element:"input",value:"",config:{disabled:!0,name:"course_name",label:"Course name: ",type:"text",placeholder:"Course name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},courseTime:{element:"input",value:"",config:{disabled:!0,name:"course_time",label:"Course time: ",type:"text",placeholder:"Day of the week, HH:MM..."},validation:{required:!0,courseTime:!0},isValid:!1,isBlurred:!1,validationMessage:""},courseDescription:{element:"input",value:"",config:{disabled:!0,name:"course_description",label:"Description: ",type:"text",placeholder:"Course description..."},validation:{required:!0,minLength:8},isValid:!1,isBlurred:!1,validationMessage:""},studyGroupId:{element:"select",value:"",config:{disabled:!0,name:"study_group_id",label:"Study group: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectId:{element:"select",value:"",config:{disabled:!0,name:"subject_id",label:"Subject: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorId:{element:"select",value:"",config:{disabled:!0,name:"professor_id",label:"Professor: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}if(e.validation.courseTime){var u=e.value.split(" "),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].indexOf(u[0])>0&/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(u[1]),p="".concat(l?"":"This field must be a valid date in dddd HH:mm format !");t=l?t:[l,p]}return t},e.renderError=function(){return""!=e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):null},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"}),Object(S.jsx)("button",{onClick:function(t){return e.cancelHandle(t)},children:"CANCEL"})]})},e.editHandlle=function(){var t=e.state.formData;for(var a in t)t[a].config.disabled=!1;e.setState({formData:t,edit:!0})},e.cancelHandle=function(){for(var t=e.state.formData,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];t[n].value=e.state.course[n],t[n].isValid=!0,t[n].config.disabled=!0,t[n].isBlurred=!1}t.courseTime.value=Z()(e.state.course.courseTime).format("dddd HH:mm"),t.studyGroupId.defaultValue=e.state.course.studyGroupId,t.studyGroupId.value=e.state.course.studyGroupId,t.subjectId.defaultValue=e.state.course.subjectId,t.subjectId.value=e.state.course.subjectId,t.professorId.defaultValue=e.state.course.professorId,t.professorId.value=e.state.course.professorId,e.setState({formData:t,edit:!1,error:""})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);if(s){document.body.click();var o=e.state.formData;for(var i in o)o[i].config.disabled=!0;a.courseTime=Z()(a.courseTime,"dddd HH:mm"),e.props.dispatch({type:"CLEAR_COURSE",payload:null}),e.props.dispatch(ne(e.state.course.courseId,a)),e.setState({formData:o,error:"",loading:!0,edit:!1})}else e.setState({error:"Something must have happened..."})},e.renderAddPresenceSheetButton=function(){return Object(S.jsx)("button",{onClick:function(){return e.addPresenceSheetHandle()},children:"ADD PRESENCE SHEET"})},e.presenceSheetHandle=function(){e.setState({isAddPresenceSheetSelected:!0})},e.addPresenceSheetHandle=function(){var t;console.log(e.state.isAddPresenceSheetSelected),t=!e.state.isAddPresenceSheetSelected,e.setState({isAddPresenceSheetSelected:t}),e.state.isAddPresenceSheetSelected&&window.location.reload(!1)},e.changeHandle=function(t){e.setState({presenceSheet:{presenceSheetId:t.target.value,isPresenceListLoaded:!1}}),e.props.dispatch({type:"CLEAR_PRESENCES",payload:null}),e.props.dispatch(ie(t.target.value))},e.renderPresences=function(){if(e.state.isPresenceListLoaded)return e.state.presences.map((function(e){return Object(S.jsxs)("div",{className:"presence_row",children:[Object(S.jsx)("div",{className:"left",children:Object(S.jsx)(o.b,{to:{pathname:"/student/".concat(e.Student.studentId),state:{fromDashboard:!0}},children:"".concat(e.Student.studentFirstName," ").concat(e.Student.studentLastName)})}),Object(S.jsx)("div",{className:"right",children:e.presenceStatus?"PRESENT":"ABSENT"})]},e.presenceId)}))},e.renderPresenceSheet=function(){return e.state.isAddPresenceSheetSelected?Object(S.jsx)("div",{children:Object(S.jsx)(Pe,{courseId:e.state.course.courseId,addPresenceSheetHandle:e.addPresenceSheetHandle})}):Object(S.jsxs)("div",{className:"add_presences_container",children:[Object(S.jsx)("h2",{children:"Presence report"}),Object(S.jsxs)("select",{value:e.state.presenceSheet.presenceSheetDate,defaultValue:"",name:"presence_status",onChange:function(t){return e.changeHandle(t)},children:[Object(S.jsx)("option",{value:"",disabled:!0,children:"Select wanted presence sheet date..."}),e.state.presenceSheetsList.map((function(e){return Object(S.jsx)("option",{value:e.presenceSheetId,children:Z()(e.presenceSheetDate).format("DD/MM/YYYY")},e.presenceSheetId)}))]}),e.renderPresences()]})},e.renderMarks=function(t){return t.map((function(t){return Object(S.jsx)(Ue,{mark:t,subjectTheoryMarks:e.state.course.Subject.subjectTheoryMarks,subjectPracticalMarks:e.state.course.Subject.subjectPracticalMarks,updateMark:function(t,a){return e.updateMarkHandle(t,a)}})}))},e.updateMarkHandle=function(t,a){e.props.dispatch(oe(t,a))},e.renderMarksInformation=function(){return e.state.marks.length>0?Object(S.jsxs)("div",{className:"add_marks_container",children:[Object(S.jsx)("div",{className:"label_t",children:"Theory"}),Object(S.jsx)("div",{className:"label_p",children:"Practical"}),e.renderMarks(e.state.marks)]}):null},e.programmExamHandle=function(){e.state.isExamProgrammed?e.setState({error:"Exam is already programmed !"}):e.props.history.push("/add-exam/".concat(e.props.match.params.id))},e.renderProgrammExamButton=function(){return Object(S.jsx)("button",{onClick:function(){return e.programmExamHandle()},children:"PROGRAMM EXAM"})},e.renderExamInformation=function(){return e.state.isExamProgrammed?Object(S.jsx)(o.b,{to:{pathname:"/exam/".concat(e.state.exam.examId),state:{fromDashboard:!0}},children:Object(S.jsx)("div",{className:"exam_info",children:"Exam for this course is programmed on ".concat(Z()(e.state.exam.examDate).format("DD/MM/YYYY"))})}):Object(S.jsx)("div",{className:"exam_info",children:"Exam is not programmed yet..."})},e.renderShowSubjectPageButton=function(){return Object(S.jsx)("button",{onClick:function(){return e.props.history.push("/subject/".concat(e.state.course.subjectId))},children:"VIEW SUBJECT"})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e,t;this.props.dispatch({type:"CLEAR_COURSE",payload:null}),this.props.dispatch({type:"CLEAR_STUDY_GROUPS",payload:null}),this.props.dispatch({type:"CLEAR_SUBJECTS",payload:null}),this.props.dispatch({type:"CLEAR_PROFESSORS",payload:null}),this.props.dispatch({type:"CLEAR_PRESENCE_SHEETS_LIST",payload:null}),this.props.dispatch({type:"CLEAR_PRESENCES",payload:null}),this.props.dispatch({type:"CLEAR_MARKS_LIST",payload:null}),this.props.dispatch({type:"CLEAR_EXAM",payload:null}),this.props.dispatch((e=this.props.match.params.id,{type:"GET_EXAM",payload:T.a.get("/api/getExamByCourseId/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))})),this.props.dispatch(function(e){return function(t){T.a.get("/api/getPresenceSheetsByCourseId/".concat(e)).then((function(e){e=e.data,t({type:"PRESENCE_SHEETS_LIST",payload:e})})).catch((function(e){console.log(e)}))}}(this.props.match.params.id)),this.props.dispatch((t=this.props.match.params.id,{type:"MARKS_LIST",payload:T.a.get("/api/getMarks/".concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))})),this.props.dispatch(function(e){return function(t){T.a.get("/api/getCourse/".concat(e)).then((function(e){(e=e.data)&&t({type:"GET_COURSE",payload:e})})).catch((function(e){console.log(e)}))}}(this.props.match.params.id)),this.props.dispatch(W()),this.props.dispatch(Le()),this.props.dispatch(me())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.professors.professorsList&&e.studyGroups.studyGroupsList&&e.subjects.subjectsList&&e.exams.exam){if(e.courses.course){var t,a=this.state.formData,s=[],n=[],r=[],o={},i=!1;e.exams.exam.message?i=!1:(i=!0,o=e.exams.exam),e.studyGroups.studyGroupsList.studyGroupsData.map((function(e){s.push({id:e.studyGroupId,name:e.studyGroupId})})),e.subjects.subjectsList.subjectsData.map((function(e){n.push({id:e.subjectId,name:e.subjectName})})),e.professors.professorsList.professorsData.map((function(e){r.push({id:e.professorId,name:"".concat(e.professorFirstName," ").concat(e.professorLastName)})}));for(var c=0,d=Object.keys(a);c<d.length;c++){a[m=d[c]].value=e.courses.course[m],a[m].isValid=!0}if(a.courseTime.value=Z()(a.courseTime.value).format("dddd HH:mm"),a.studyGroupId.config.options=s,a.subjectId.config.options=n,a.professorId.config.options=r,a.studyGroupId.defaultValue=e.courses.course.studyGroupId,a.studyGroupId.value=e.courses.course.studyGroupId,a.subjectId.defaultValue=e.courses.course.subjectId,a.subjectId.value=e.courses.course.subjectId,a.professorId.defaultValue=e.courses.course.professorId,a.professorId.value=e.courses.course.professorId,e.presenceSheets.presenceSheetsList)if(e.marks.marksList)console.log(e),this.setState((t={presenceSheetsList:e.presenceSheets.presenceSheetsList,marks:e.marks.marksList,course:e.courses.course},Object(_e.a)(t,"presenceSheetsList",e.presenceSheets.presenceSheetsList),Object(_e.a)(t,"isExamProgrammed",i),Object(_e.a)(t,"exam",o),Object(_e.a)(t,"formData",a),Object(_e.a)(t,"loading",!1),t))}if(e.courses.updatedCourse)if(console.log(e.courses.updatedCourse),e.courses.updatedCourse.message)this.setState({error:e.courses.updatedCourse.message});else{for(var u=this.state.formData,l=0,p=Object.keys(u);l<p.length;l++){var m;u[m=p[l]].config.disabled=!0}this.setState({course:e.courses.updatedCourse,loading:!1,edit:!1,formData:u}),window.location.reload()}null!=e.marks.updatedMark&&this.props.dispatch({type:"CLEAR_MARK",payload:null}),e.presenceSheets.presencesList&&this.setState({presences:e.presenceSheets.presencesList,isPresenceListLoaded:!0})}}},{key:"render",value:function(){var e=this;return!this.state.loading&&this.state.course?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{id:"course",className:"about_container",children:[Object(S.jsxs)("div",{className:"about_left_container",children:[Object(S.jsx)(R,{id:"courseName",formData:this.state.formData.courseName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"courseTime",formData:this.state.formData.courseTime,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"courseDescription",formData:this.state.formData.courseDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyGroupId",formData:this.state.formData.studyGroupId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectId",formData:this.state.formData.subjectId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorId",formData:this.state.formData.professorId,changeHandle:function(t){return e.updateForm(t)}}),"admin"==this.props.users.login.user.userRole?this.renderButton():null,this.renderShowSubjectPageButton(),"admin"==this.props.users.login.user.userRole||"professor"==this.props.users.login.user.userRole&&this.state.course.Professor.professorEmail==this.props.users.login.user.userEmail?this.renderAddPresenceSheetButton():null,"admin"==this.props.users.login.user.userRole||"professor"==this.props.users.login.user.userRole&&this.state.course.Professor.professorEmail==this.props.users.login.user.userEmail?this.renderProgrammExamButton():null,this.renderError()]}),"admin"==this.props.users.login.user.userRole||"professor"==this.props.users.login.user.userRole&&this.state.course.Professor.professorEmail==this.props.users.login.user.userEmail?Object(S.jsx)("div",{className:"about_right_container",children:Object(S.jsx)("div",{className:"bottom",children:this.renderPresenceSheet()})}):null]}),"admin"==this.props.users.login.user.userRole||"professor"==this.props.users.login.user.userRole&&this.state.course.Professor.professorEmail==this.props.users.login.user.userEmail?this.renderMarksInformation():null,this.renderExamInformation()]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var Je=Object(i.b)((function(e){return{courses:e.courses,studyGroups:e.studyGroups,subjects:e.subjects,professors:e.professors,presenceSheets:e.presenceSheets,marks:e.marks,exams:e.exams}}))(Xe),$e=a(83);$e.a.initializeApp({apiKey:"AIzaSyB8pRX-gU7JggbGaHB1x81ZBnpVdRlALzE",authDomain:"college-management-app-57e64.firebaseapp.com",projectId:"college-management-app-57e64",storageBucket:"college-management-app-57e64.appspot.com",messagingSenderId:"1022113297366",appId:"1:1022113297366:web:35fe96a1aef66d84c26a77",measurementId:"G-J091QZ5W90"});function Ke(e){return function(t){T.a.post("/api/addNews",e).then((function(e){e=e.data,t({type:"ADD_NEWS",payload:e})})).catch((function(e){console.log(e)}))}}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;return function(a){T.a.get("/api/getNews?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"NEWS_LIST",payload:{newsData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredNews?keyword=".concat(e)).then((function(a){a=a.data,t({type:"FILTERED_NEWS_LIST",payload:{newsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function Qe(e){return function(t){T.a.delete("/api/deleteNews/".concat(e)).then((function(e){e=e.data,t({type:"DELETE_NEWS",payload:e})})).catch((function(e){console.log(e)}))}}var et=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={news:null,imageURL:"",error:"",isLoaded:!1},e.getImageURL=function(t){$e.a.storage().ref("pictures").child(t.newsPicturePath).getDownloadURL().then((function(a){e.setState({news:t,imageURL:a,isLoaded:!0})}))},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){var e;this.props.dispatch({type:"CLEAR_NEWS",payload:null}),this.props.dispatch((e=this.props.match.params.id,function(t){T.a.get("/api/getNews/".concat(e)).then((function(e){(e=e.data)&&t({type:"GET_NEWS",payload:e})})).catch((function(e){console.log(e)}))}))}},{key:"componentWillReceiveProps",value:function(e){e.news.news&&(console.log(e),this.getImageURL(e.news.news))}},{key:"render",value:function(){return console.log(this.state),this.state.isLoaded&&this.state.news?Object(S.jsxs)("div",{className:"article_wrapper",children:[Object(S.jsxs)("div",{className:"article_info",children:[Object(S.jsxs)("div",{children:["Date: ",Object(S.jsx)("span",{children:Z()(this.state.news.updatedAt).format("DD/MM/YYYY")})]}),Object(S.jsxs)("div",{children:["Author: ",Object(S.jsx)("span",{children:this.state.news.newsAuthorName})]})]}),Object(S.jsxs)("div",{className:"article_body",children:[Object(S.jsx)("h1",{children:this.state.news.newsTitle}),Object(S.jsx)("div",{className:"article_image",style:{background:'url("'.concat(this.state.imageURL,'")')}}),Object(S.jsx)("div",{className:"article_text",dangerouslySetInnerHTML:{__html:this.state.news.newsText}})]})]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var tt=Object(i.b)((function(e){return{news:e.news}}))(et),at=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={edit:!1,exam:null,subject:{},courses:[],error:"",loading:!1,formData:{courseId:{element:"select",value:"",config:{disabled:!0,name:"course_id",label:"Course: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},examDescription:{element:"input",value:"",config:{disabled:!0,name:"exam_description",label:"Exam description: ",type:"text",placeholder:"Exam description..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},examDate:{element:"input",value:"",config:{disabled:!0,name:"exam_date",label:"Exam date: ",type:"text",placeholder:"Exam date, DD/MM/YYYY..."},validation:{required:!0,date:!0},isValid:!1,isBlurred:!1,validationMessage:""},examIsOnline:{element:"select",value:"",config:{disabled:!0,name:"exam_is_online",label:"Exam type: ",options:[{id:0,name:"online"},{id:1,name:"physical"}]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"}),Object(S.jsx)("button",{onClick:function(t){return e.cancelHandle(t)},children:"CANCEL"})]})},e.renderError=function(){return""!=e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):null},e.renderSubjectInformation=function(e){return Object(S.jsxs)("div",{className:"about_right_container",children:[Object(S.jsxs)("h2",{children:["About subject",Object(S.jsx)(o.b,{to:{pathname:"/subject/".concat(e.subjectId),state:{fromDashboard:!0}},children:" ".concat(e.subjectName)})]}),Object(S.jsxs)("div",{className:"subject_details",children:[Object(S.jsx)("div",{className:"left",children:"Final mark percentage:"}),Object(S.jsx)("div",{className:"right",children:"".concat(e.subjectTheoryMarks,"%")})]}),Object(S.jsxs)("div",{className:"subject_details",children:[Object(S.jsx)("div",{className:"left",children:"Credit points:"}),Object(S.jsx)("div",{className:"right",children:e.subjectCreditScore})]})]})},e.cancelHandle=function(){for(var t=e.state.formData,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];t[n].value=e.state.exam[n],t[n].isValid=!0,t[n].config.disabled=!0,t[n].isBlurred=!1}t.examDate.value=Z()(e.state.exam.examDate).format("DD/MM/YYYY"),t.courseId.defaultValue=e.state.exam.courseId,t.courseId.value=e.state.exam.courseId,e.setState({formData:t,edit:!1,error:""})},e.editHandlle=function(){var t=e.state.formData;for(var a in t)"courseId"!=a&&(t[a].config.disabled=!1);e.setState({formData:t,edit:!0})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),a.examDate=Z()(a.examDate,"DD/MM/YYYY"),a.examIsOnline=0==a.examIsOnline,e.props.dispatch({type:"CLEAR_EXAM",payload:null}),e.props.dispatch(qe(e.state.exam.examId,a)),e.setState({error:"",loading:!0,edit:!1})):e.setState({error:"Something must have happened..."})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e,t;this.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),this.props.dispatch({type:"CLEAR_EXAM",payload:null}),this.props.dispatch({type:"CLEAR_SUBJECT",payload:null}),this.props.dispatch((e=this.props.match.params.id,function(t){T.a.get("/api/getSubjectByExamId/".concat(e)).then((function(e){e=e.data,t({type:"GET_SUBJECT",payload:e})})).catch((function(e){console.log(e)}))})),this.props.dispatch(ee()),this.props.dispatch((t=this.props.match.params.id,{type:"GET_EXAM",payload:T.a.get("/api/getExam/".concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.courses.coursesList){if(e.subjects.subject&&(this.setState({subject:e.subjects.subject}),e.exams.exam)){console.log(e);var t=this.state.formData,a=[];e.courses.coursesList.coursesData.map((function(e){a.push({id:e.courseId,name:"".concat(e.courseName," - group no. ").concat(e.studyGroupId)})}));for(var s=0,n=Object.keys(t);s<n.length;s++){t[c=n[s]].value=e.exams.exam[c],t[c].isValid=!0}t.courseId.config.options=a,t.courseId.defaultValue=e.exams.exam.courseId,t.courseId.value=e.exams.exam.courseId,t.examIsOnline.defaultValue=1==e.exams.exam.examIsOnline?0:1,t.examIsOnline.value=1==e.exams.exam.examIsOnline?0:1,t.examDate.value=Z()(t.examDate.value).format("DD/MM/YYYY"),console.log(e),this.setState({exam:e.exams.exam,formData:t,loading:!1})}if(e.exams.updatedExam)if(e.exams.updatedExam.message)this.setState({error:e.exams.updatedExam.message});else{for(var r=this.state.formData,o=0,i=Object.keys(r);o<i.length;o++){var c;r[c=i[o]].config.disabled=!0}this.setState({exam:e.exams.updatedExam,loading:!1,edit:!1,formData:r})}}}},{key:"render",value:function(){var e=this;return!this.state.loading&&this.state.exam?Object(S.jsxs)("div",{className:"about_container",children:[Object(S.jsxs)("div",{className:"about_left_container",children:[Object(S.jsx)(R,{id:"courseId",formData:this.state.formData.courseId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"examDescription",formData:this.state.formData.examDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"examDate",formData:this.state.formData.examDate,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"examIsOnline",formData:this.state.formData.examIsOnline,changeHandle:function(t){return e.updateForm(t)}}),"admin"==this.props.users.login.user.userRole?this.renderButton():null,this.renderError()]}),this.renderSubjectInformation(this.state.subject)]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var st=Object(i.b)((function(e){return{exams:e.exams,subjects:e.subjects,courses:e.courses}}))(at),nt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={edit:!1,subject:null,courses:[],error:"",loading:!1,formData:{subjectName:{element:"input",value:"",config:{disabled:!0,name:"subject_name",label:"Subject name: ",type:"text",placeholder:"Subject name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectTheoryMarks:{element:"input",value:"",config:{disabled:!0,name:"subject_theory_marks",label:"Theory marks: ",type:"text",placeholder:"Theory marks..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectPracticalMarks:{element:"input",value:"",config:{disabled:!0,name:"subject_practical_marks",label:"Practical marks: ",type:"text",placeholder:"Practical marks..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectCreditScore:{element:"input",value:"",config:{disabled:!0,name:"subject_credit_score",label:"Credit score: ",type:"text",placeholder:"Credit score..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectDescription:{element:"input",value:"",config:{disabled:!0,name:"subject_description",label:"Subject description: ",type:"text",placeholder:"Subject description..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectIsOptional:{element:"select",value:"",config:{disabled:!0,name:"subject_is_optional",label:"Subject type: ",options:[{id:0,name:"Optional"},{id:1,name:"Mandatory"}]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"}),Object(S.jsx)("button",{onClick:function(t){return e.cancelHandle(t)},children:"CANCEL"})]})},e.renderError=function(){return""!=e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):null},e.renderCourses=function(e){return Object(S.jsxs)("div",{className:"more",children:[Object(S.jsx)("h2",{children:"Courses: "}),e.length>0?e.map((function(e){return Object(S.jsx)("div",{className:"subject_course",children:Object(S.jsx)(o.b,{to:{pathname:"/course/".concat(e.courseId),state:{fromDashboard:!0}},children:"# ".concat(e.courseName," with ").concat(e.Professor.professorFirstName," ").concat(e.Professor.professorLastName," - group no. ").concat(e.studyGroupId)})},e.courseId)})):Object(S.jsx)("div",{className:"message",children:"No courses yet assigned with this subject."})]})},e.cancelHandle=function(){for(var t=e.state.formData,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];t[n].value=e.state.subject[n],t[n].isValid=!0,t[n].config.disabled=!0,t[n].isBlurred=!1}t.subjectIsOptional.defaultValue=e.state.subject.subjectIsOptional?0:1,t.subjectIsOptional.value=e.state.subject.subjectIsOptional?0:1,e.setState({formData:t,edit:!1,error:""})},e.editHandlle=function(){var t=e.state.formData;for(var a in t)t[a].config.disabled=!1;e.setState({formData:t,edit:!0})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);parseInt(a.subjectTheoryMarks)+parseInt(a.subjectPracticalMarks)!=100?(s=!1,e.setState({error:"The sum of the theory marks and practical marks must equal 100"})):s?(document.body.click(),e.props.dispatch({type:"CLEAR_SUBJECT",payload:null}),e.props.dispatch(Te(e.state.subject.subjectId,a)),e.setState({error:"",edit:!1,loading:!0})):e.setState({error:"Something must have happened..."})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e,t;this.props.dispatch({type:"CLEAR_SUBJECT",payload:null}),this.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),this.props.dispatch((e=this.props.match.params.id,function(t){T.a.get("/api/getSubject/".concat(e)).then((function(e){e=e.data,t({type:"GET_SUBJECT",payload:e})})).catch((function(e){console.log(e)}))})),this.props.dispatch((t=this.props.match.params.id,function(e){T.a.get("/api/getCoursesBySubjectId/".concat(t)).then((function(t){t=t.data,e({type:"COURSES_LIST",payload:t})})).catch((function(e){console.log(e)}))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.courses.coursesList){if(e.subjects.subject){for(var t=this.state.formData,a=0,s=Object.keys(t);a<s.length;a++){t[i=s[a]].value=e.subjects.subject[i],t[i].isValid=!0}t.subjectIsOptional.defaultValue=e.subjects.subject.subjectIsOptional?0:1,t.subjectIsOptional.value=e.subjects.subject.subjectIsOptional?0:1,this.setState({subject:e.subjects.subject,courses:e.courses.coursesList,formData:t,loading:!1})}if(e.subjects.updatedSubject)if(e.subjects.updatedSubject.message)this.setState({error:e.subjects.updatedSubject.message});else{for(var n=this.state.formData,r=0,o=Object.keys(n);r<o.length;r++){var i;n[i=o[r]].config.disabled=!0}this.setState({subject:e.subjects.updatedSubject,loading:!1,edit:!1,formData:n})}}}},{key:"render",value:function(){var e=this;return!this.state.loading&&this.state.subject?Object(S.jsxs)("div",{className:"about_container",children:[Object(S.jsxs)("div",{className:"about_left_container",children:[Object(S.jsx)(R,{id:"subjectName",formData:this.state.formData.subjectName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectDescription",formData:this.state.formData.subjectDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectTheoryMarks",formData:this.state.formData.subjectTheoryMarks,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectPracticalMarks",formData:this.state.formData.subjectPracticalMarks,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectCreditScore",formData:this.state.formData.subjectCreditScore,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectIsOptional",formData:this.state.formData.subjectIsOptional,changeHandle:function(t){return e.updateForm(t)}}),"admin"==this.props.users.login.user.userRole?this.renderButton():null,this.renderError()]}),this.renderCourses(this.state.courses)]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var rt=Object(i.b)((function(e){return{subjects:e.subjects,courses:e.courses}}))(nt),ot=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={edit:!1,department:null,professors:[],error:"",loading:!1,formData:{departmentName:{element:"input",value:"",config:{disabled:!0,name:"department_name",label:"Department name: ",type:"text",placeholder:"Department name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},departmentDescription:{element:"input",value:"",config:{disabled:!0,name:"department_description",label:"Department description: ",type:"text",placeholder:"Department description..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},facultyId:{element:"select",value:"",config:{disabled:!0,name:"faculty_id",label:"Faculty: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderButton=function(){return!1===e.state.edit?Object(S.jsx)("button",{onClick:function(){return e.editHandlle()},children:"EDIT"}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(t){return e.saveHandle(t)},children:"SAVE"}),Object(S.jsx)("button",{onClick:function(t){return e.cancelHandle(t)},children:"CANCEL"})]})},e.renderError=function(){return""!=e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):null},e.cancelHandle=function(){for(var t=e.state.formData,a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];t[n].value=e.state.department[n],t[n].isValid=!0,t[n].config.disabled=!0,t[n].isBlurred=!1}t.facultyId.defaultValue=e.state.department.facultyId,t.facultyId.value=e.state.department.facultyId,e.setState({formData:t,edit:!1,error:""})},e.editHandlle=function(){var t=e.state.formData;for(var a in t)t[a].config.disabled=!1;e.setState({formData:t,edit:!0})},e.saveHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),e.props.dispatch({type:"CLEAR_DEPARTMENT",payload:null}),e.props.dispatch(Se(e.state.department.departmentId,a)),e.setState({error:"",loading:!0,edit:!1})):e.setState({error:"Something must have happened..."})},e.renderProfessors=function(t){return t.length>0?t.map((function(t){return Object(S.jsx)("div",{className:"department_professor",children:"professor"!=e.props.users.login.user.userRole?Object(S.jsx)(o.b,{to:{pathname:"/professor/".concat(t.professorId),state:{fromDashboard:!0}},children:"# ".concat(t.professorFirstName," ").concat(t.professorLastName)}):Object(S.jsx)("div",{children:"# ".concat(t.professorFirstName," ").concat(t.professorLastName)})})})):Object(S.jsx)("div",{className:"message",children:"No professors enrolled yet in this department."})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e;this.props.dispatch({type:"CLEAR_FACULTIES",payload:null}),this.props.dispatch({type:"CLEAR_DEPARTMENT",payload:null}),this.props.dispatch({type:"CLEAR_PROFESSORS",payload:null}),this.props.dispatch(q()),this.props.dispatch((e=this.props.match.params.id,{type:"GET_DEPARTMENT",payload:T.a.get("/api/getDepartment/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))})),this.props.dispatch(function(e){return function(t){T.a.get("/api/getProfessorsByDepartmentId/".concat(e)).then((function(e){(e=e.data)&&t({type:"PROFESSORS_LIST",payload:e})})).catch((function(e){console.log(e)}))}}(this.props.match.params.id))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.faculties.facultiesList&&e.professors.professorsList){if(e.departments.department){var t=this.state.formData,a=[];e.faculties.facultiesList.map((function(e){a.push({id:e.facultyId,name:e.facultyName})}));for(var s=0,n=Object.keys(t);s<n.length;s++){t[c=n[s]].value=e.departments.department[c],t[c].isValid=!0}t.facultyId.config.options=a,t.facultyId.defaultValue=e.departments.department.facultyId,t.facultyId.value=e.departments.department.facultyId,this.setState({department:e.departments.department,professors:e.professors.professorsList,formData:t,loading:!1})}if(e.departments.updatedDepartment)if(e.departments.updatedDepartment.message)this.setState({error:e.departments.updatedDepartment.message});else{for(var r=this.state.formData,o=0,i=Object.keys(r);o<i.length;o++){var c;r[c=i[o]].config.disabled=!0}this.setState({department:e.departments.updatedDepartment,loading:!1,edit:!1,formData:r})}}}},{key:"render",value:function(){var e=this;return!this.state.loading&&this.state.department?Object(S.jsxs)("div",{className:"about_container",children:[Object(S.jsxs)("div",{className:"about_left_container",children:[Object(S.jsx)(R,{id:"departmentName",formData:this.state.formData.departmentName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"departmentDescription",formData:this.state.formData.departmentDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"facultyId",formData:this.state.formData.facultyId,changeHandle:function(t){return e.updateForm(t)}}),"admin"==this.props.users.login.user.userRole?this.renderButton():null,this.renderError()]}),Object(S.jsxs)("div",{className:"more",children:[Object(S.jsx)("h2",{children:"Professors: "}),this.renderProfessors(this.state.professors)]})]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var it=Object(i.b)((function(e){return{professors:e.professors,departments:e.departments,faculties:e.faculties}}))(ot);function ct(){return function(e){T.a.get("/api/countSubjects").then((function(t){t=t.data,T.a.get("/api/countProfessors").then((function(a){a=a.data,T.a.get("/api/countStudents").then((function(s){s=s.data,T.a.get("/api/countFaculties").then((function(n){n=n.data,T.a.get("/api/countStudyGroups").then((function(r){r=r.data,T.a.get("/api/countCourses").then((function(o){o=o.data,T.a.get("/api/countNews").then((function(i){i=i.data,T.a.get("/api/countExams").then((function(c){c=c.data,T.a.get("/api/countDepartments").then((function(d){d=d.data,T.a.get("/api/countDocuments").then((function(u){u=u.data,e({type:"COUNT_ESENTIALS",payload:{subjectsCount:t,professorsCount:a,studentsCount:s,facultiesCount:n,studyGroupsCount:r,coursesCount:o,examsCount:c,newsCount:i,departmentsCount:d,documentsCount:u}})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}}var dt=function(e){var t=e.student,a=e.type,s=e.aboutStudent,n=e.deleteStudent,r=e.userRole,o="";o="info"==a?"student_column_info":"student_column_label";return Object(S.jsxs)("div",{className:"student_container",children:[Object(S.jsx)("div",{className:o,children:t.studentId}),Object(S.jsx)("div",{className:o,children:t.studentFirstName}),Object(S.jsx)("div",{className:o,children:t.studentLastName}),Object(S.jsx)("div",{className:o,children:t.studentEmail}),Object(S.jsx)("div",{className:o,children:t.studyGroupId}),Object(S.jsx)("div",{className:o,children:t.Faculty.facultyName}),Object(S.jsx)("div",{className:o,children:t.StudyYear.studyYearOrder}),"student"!=r?"student_column_label"==o?Object(S.jsx)("div",{className:o,children:"Options"}):Object(S.jsxs)("div",{className:o,children:["admin"==r||"professor"==r?Object(S.jsx)("div",{className:"edit",onClick:function(){return s(t.studentId)},children:"ABOUT"}):null,"admin"==r?Object(S.jsx)("div",{className:"delete",onClick:function(){return n(t.studentId)},children:"DELETE"}):null]}):null]},t.studentId)},ut=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={labels:{studentId:"ID",studentFirstName:"First name",studentLastName:"Last name",studentDob:"DOB",studentEmail:"Email",studyGroupId:"Study group",studentAddress:"Address",studentIsTaxed:"Taxed",StudyYear:{studyYearOrder:"Year"},Faculty:{facultyName:"Faculty"}},students:[],studentsCount:0,offset:0,limit:10,loaded:!1,dummy:!1,navButtons:!0,keyword:""},e.renderStudents=function(t){return t.map((function(t){return Object(S.jsx)(dt,{student:t,aboutStudent:e.aboutStudent,deleteStudent:e.deleteStudent,type:"info",userRole:e.props.users.login.user.userRole},t.studentId)}))},e.renderLabels=function(t){return Object(S.jsx)(dt,{student:t,type:"label",userRole:e.props.users.login.user.userRole})},e.renderAddStudentButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-student")},children:"Add student"})},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.aboutStudent=function(t){e.props.history.push("/student/".concat(t))},e.deleteStudent=function(t){Be.a.fire({title:"Are you sure?",text:"You will the student and all the data asociated with it (marks, presences, etc.)",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.isConfirmed&&e.props.dispatch(V(t))}))},e.loadNext=function(t,a){t+a<=e.state.studentsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(U(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(U(t-a,a)))},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);s.value=t.event.target.value,a[t.id]=s,e.setState({formData:a})},e.renderFindButton=function(){return Object(S.jsx)("button",{className:"find_button",onClick:function(){},children:"FIND"})},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_STUDENTS_LIST",payload:null}),""!=t?t.length>=3&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(F(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(U(e.state.offset,e.state.limit)),e.setState({loaded:!1,navButtons:!0}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_STUDENTS_LIST",payload:null}),this.props.dispatch(U(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.others.counts){if(e.students.studentsList){var t=e.students.studentsList.studentsData;this.setState({students:t,offset:e.students.studentsList.offset,limit:e.students.studentsList.limit,studentsCount:e.others.counts.studentsCount,loaded:!0})}e.students.deletedStudent&&(window.location.reload(),this.props.dispatch({type:"CLEAR_STUDENT",payload:null})),e.students.filteredStudentsList&&this.setState({students:e.students.filteredStudentsList.studentsData,loaded:!0})}}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Students list"}),"admin"==this.props.users.login.user.userRole?this.renderAddStudentButton():null,Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsxs)("div",{children:[this.state.students.length>0?this.renderLabels(this.state.labels):Object(S.jsx)("div",{className:"message",children:"No students yet."}),this.state.students.length>0?this.renderStudents(this.state.students):null]}),this.state.students.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var lt=Object(i.b)((function(e){return{students:e.students,others:e.others}}))(ut),pt=function(e){var t=e.professor,a=e.type,s=e.aboutProfessor,n=e.deleteProfessor,r=e.userRole,o="";o="info"==a?"student_column_info":"student_column_label";return Object(S.jsxs)("div",{className:"student_container",children:[Object(S.jsx)("div",{className:o,children:t.professorId}),Object(S.jsx)("div",{className:o,children:t.professorFirstName}),Object(S.jsx)("div",{className:o,children:t.professorLastName}),Object(S.jsx)("div",{className:o,children:t.professorEmail}),Object(S.jsx)("div",{className:o,children:t.Department.departmentName}),"admin"==r?"student_column_label"==o?Object(S.jsx)("div",{className:o,children:"Options"}):Object(S.jsxs)("div",{className:o,children:[Object(S.jsx)("div",{className:"edit",onClick:function(){return s(t.professorId)},children:"ABOUT"}),Object(S.jsx)("div",{className:"delete",onClick:function(){return n(t.professorId)},children:"DELETE"})]}):null]},t.professorId)},mt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={labels:{professorId:"ID",professorFirstName:"First name",professorLastName:"Last name",professorDob:"DOB",professorEmail:"Email",professorSalary:"Study group",Department:{departmentName:"Department"}},professors:[],professorsCount:0,offset:0,limit:10,loaded:!1,dummy:!1,keyword:"",navButtons:!0},e.renderProfessors=function(t){return t.map((function(t){return Object(S.jsx)(pt,{professor:t,aboutProfessor:e.aboutProfessor,deleteProfessor:e.deleteProfessor,type:"info",userRole:e.props.users.login.user.userRole},t.studentId)}))},e.renderLabels=function(t){return Object(S.jsx)(pt,{professor:t,type:"label",userRole:e.props.users.login.user.userRole})},e.renderAddProfessorButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-professor")},children:"Add professor"})},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.aboutProfessor=function(t){e.props.history.push("/professor/".concat(t))},e.deleteProfessor=function(t){Be.a.fire({title:"Are you sure?",text:"You will the professor and all the data asociated with it (courses, exams, etc.)",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.isConfirmed&&e.props.dispatch(be(t))}))},e.loadNext=function(t,a){t+a<=e.state.professorsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(me(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(me(t-a,a)))},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_PROFESSORS",payload:null}),""!=t?t.length>=3&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(he(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(me(e.state.offset,e.state.limit)),e.setState({loaded:!1,navButtons:!0}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch(me(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.others.counts&&e.professors.professorsList){var t=e.professors.professorsList.professorsData;console.log(t),this.setState({professors:t,offset:e.professors.professorsList.offset,limit:e.professors.professorsList.limit,professorsCount:e.others.counts.professorsCount,loaded:!0})}e.professors.deletedProfessor&&(window.location.reload(),this.props.dispatch({type:"CLEAR_PROFESSOR",payload:null})),e.professors.filteredProfessorsList&&this.setState({professors:e.professors.filteredProfessorsList.professorsData,offset:0,loaded:!0})}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Professors list"}),"admin"==this.props.users.login.user.userRole?this.renderAddProfessorButton():null,Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsxs)("div",{children:[this.state.professors.length>0?this.renderLabels(this.state.labels):null,this.state.professors.length>0?this.renderProfessors(this.state.professors):Object(S.jsx)("div",{className:"message",children:"No professors yet."})]}),this.state.professors.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var ht=Object(i.b)((function(e){return{professors:e.professors,others:e.others}}))(mt),ft=function(e){var t=e.subject,a=e.history,s=e.dispatch,n=e.userRole,r=function(e){Be.a.fire({title:"Are you sure?",text:"You will the subject and all the data asociated with it (courses, exams, etc.)",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(t){t.isConfirmed&&s(function(e){return{type:"DELETE_SUBJECT",payload:T.a.delete("/api/deleteSubject/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}(e))}))};return Object(S.jsxs)("div",{className:"subject_container",children:[Object(S.jsx)("h2",{children:t.subjectName}),Object(S.jsx)("div",{className:"credit_score",children:"CREDITS: ".concat(t.subjectCreditScore)}),Object(S.jsx)("div",{className:"score_distribution",children:"THEORY:     ".concat(t.subjectTheoryMarks,"%")}),Object(S.jsx)("div",{className:"score_distribution",children:"PRACTICAL:  ".concat(t.subjectPracticalMarks,"%")}),Object(S.jsx)("div",{className:"optional",children:t.subjectIsOptional?"Optional":"Mandatory"}),Object(S.jsxs)("div",{className:"",children:[Object(S.jsx)("div",{className:"edit",onClick:function(){return e=t.subjectId,void a.push("/subject/".concat(e));var e},children:"ABOUT"}),"admin"==n?Object(S.jsx)("div",{className:"delete",onClick:function(){return r(t.subjectId)},children:"DELETE"}):null]})]},t.subjectId)},jt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={subjects:[],subjectsCount:0,offset:0,limit:6,loaded:!1,keyword:"",navButtons:!0,dummy:!1},e.renderSubjects=function(t){return t.map((function(t){return Object(S.jsx)(ft,{subject:t,history:e.props.history,dispatch:e.props.dispatch,userRole:e.props.users.login.user.userRole},t.subjectId)}))},e.renderAddSubjectButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-subject")},children:"Add subject"})},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.loadNext=function(t,a){t+a<=e.state.subjectsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(Le(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(Le(t-a,a)))},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_SUBJECTS",payload:null}),""!=t?t.length>=3&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(Ce(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(Le(e.state.offset,e.state.limit)),e.setState({navButtons:!0,loaded:!1}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_SUBJECTS",payload:null}),this.props.dispatch(ct()),this.props.dispatch(Le(this.state.offset,this.state.limit))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.others.counts){if(e.others.counts.subjectsCount&&e.subjects.subjectsList){var t=e.subjects.subjectsList.subjectsData;this.setState({subjects:t,offset:e.subjects.subjectsList.offset,limit:e.subjects.subjectsList.limit,subjectsCount:e.others.counts.subjectsCount,loaded:!0})}e.subjects.deletedSubject&&(window.location.reload(),this.props.dispatch({type:"CLEAR_SUBJECT",payload:null})),e.subjects.filteredSubjectsList&&this.setState({subjects:e.subjects.filteredSubjectsList.subjectsData,offset:0,loaded:!0})}}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Subjects list"}),"admin"==this.props.users.login.user.userRole?this.renderAddSubjectButton():null,Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsx)("div",{children:this.state.subjects.length>0?this.renderSubjects(this.state.subjects):Object(S.jsx)("div",{className:"message",children:"No subjects yet."})}),this.state.subjects.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var vt=Object(i.b)((function(e){return{subjects:e.subjects,others:e.others}}))(jt),bt=function(e){var t=e.studyGroup,a=e.history,s=e.dispatch,n=e.userRole,r="",o=function(e){Be.a.fire({title:"Are you sure?",text:"You will delete the study group and all the data asociated with it (students, courses, etc.)",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(t){var a;t.isConfirmed&&s((a=e,function(e){T.a.delete("/api/deleteStudyGroup/".concat(a)).then((function(t){t=t.data,e({type:"DELETE_STUDY_GROUP",payload:t})})).catch((function(e){console.log(e)}))}))}))};return console.log(t),Object(S.jsxs)("div",{className:"study_group_container",children:[Object(S.jsxs)("div",{className:"left_container",children:[Object(S.jsx)("div",{className:r,children:"Study group no.:"}),Object(S.jsx)("div",{className:r,children:"Study group year:"}),Object(S.jsx)("div",{className:r,children:"Study group faculty:"}),Object(S.jsx)("div",{className:r,children:"Study group description:"})]}),Object(S.jsxs)("div",{className:"right_container",children:[Object(S.jsx)("div",{className:r,children:t.studyGroupId}),Object(S.jsx)("div",{className:r,children:t.StudyYear.studyYearOrder}),Object(S.jsx)("div",{className:r,children:t.Faculty.facultyName}),Object(S.jsx)("div",{className:r,children:t.studyGroupDescription})]}),Object(S.jsxs)("div",{className:r,children:[Object(S.jsx)("div",{className:"edit",onClick:function(){return e=t.studyGroupId,void a.push("/studygroup/".concat(e));var e},children:"ABOUT"}),"admin"==n?Object(S.jsx)("div",{className:"delete",onClick:function(){return o(t.studyGroupId)},children:"DELETE"}):null]})]},t.studyGroupId)},yt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={studyGroups:[],studyGroupsCount:0,offset:0,limit:6,loaded:!1,dummy:!1,keyword:"",navButtons:!0},e.renderStudyGroups=function(t){return t.map((function(t){return Object(S.jsx)(bt,{studyGroup:t,history:e.props.history,dispatch:e.props.dispatch,userRole:e.props.users.login.user.userRole},t.studyGroupId)}))},e.renderAddStudyGroupButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-studygroup")},children:"Add study group"})},e.renderFindMyStudyGroupButton=function(){return Object(S.jsx)("button",{onClick:function(){return e.redirectToMyStudyGroupHandle(e.props.users.login.user.userEmail)},children:"GO TO MY STUDY GROUP"})},e.redirectToMyStudyGroupHandle=function(t){e.props.dispatch(G(t))},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.loadNext=function(t,a){t+a<=e.state.studyGroupsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(W(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(W(t-a,a)))},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_STUDY_GROUPS",payload:null}),""!=t?(t.length>=3||!isNaN(t))&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(X(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(W(e.state.offset,e.state.limit)),e.setState({navButtons:!0,loaded:!1}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_STUDENT",payload:null}),this.props.dispatch({type:"CLEAR_STUDY_GROUPS",payload:null}),this.props.dispatch(W(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.others.counts){if(e.others.counts.studyGroupsCount&&e.studyGroups.studyGroupsList){var t=e.studyGroups.studyGroupsList.studyGroupsData;this.setState({studyGroups:t,offset:e.studyGroups.studyGroupsList.offset,limit:e.studyGroups.studyGroupsList.limit,studyGroupsCount:e.others.counts.studyGroupsCount,loaded:!0})}null!=e.studyGroups.deletedStudyGroup&&window.location.reload(!1),e.studyGroups.filteredStudyGroupsList&&this.setState({studyGroups:e.studyGroups.filteredStudyGroupsList.studyGroupsData,offset:0,loaded:!0})}e.students.student&&this.props.history.push("/studygroup/".concat(e.students.student.studyGroupId))}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Study groups list"}),"admin"==this.props.users.login.user.userRole?this.renderAddStudyGroupButton():null,"student"==this.props.users.login.user.userRole?this.renderFindMyStudyGroupButton():null,Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsx)("div",{children:this.state.studyGroups.length>0?this.renderStudyGroups(this.state.studyGroups):Object(S.jsx)("div",{className:"message",children:"No study groups yet."})}),this.state.studyGroups.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var gt=Object(i.b)((function(e){return{studyGroups:e.studyGroups,students:e.students,others:e.others}}))(yt),Ot=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isLoaded:!1,picturePath:""},e.getImageURL=function(t){$e.a.storage().ref("pictures").child(t).getDownloadURL().then((function(t){e.setState({isLoaded:!0,picturePath:t})}))},e.aboutNewsHandle=function(t){e.props.history.push("/news/".concat(t))},e.deleteNewsHandle=function(t){Be.a.fire({title:"Are you sure?",text:"You will delete the news and all the data asociated with it.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.isConfirmed&&e.props.dispatch(Qe(t))}))},e.renderOptions=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"edit",onClick:function(){return e.aboutNewsHandle(e.props.news.newsId)},children:"ABOUT"}),Object(S.jsx)("div",{className:"delete",onClick:function(){return e.deleteNewsHandle(e.props.news.newsId)},children:"DELETE"})]})},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){this.getImageURL(this.props.news.newsPicturePath)}},{key:"render",value:function(){return this.state.isLoaded?Object(S.jsxs)("div",{className:"card",children:[Object(S.jsx)("img",{src:this.state.picturePath}),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("h4",{children:Object(S.jsx)("b",{children:this.props.news.newsTitle})}),Object(S.jsxs)("p",{children:["by ",this.props.news.newsAuthorName]}),Object(S.jsx)("p",{children:this.props.news.updatedAt})]}),this.renderOptions()]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component),St=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={news:[],newsCount:0,offset:0,limit:8,loaded:!1,dummy:!1,navButtons:!0,keyword:""},e.renderNews=function(t){return t.map((function(t){return Object(S.jsx)(Ot,{history:e.props.history,dispatch:e.props.dispatch,news:t},t.newsId)}))},e.renderAddNewsButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-news")},children:"Add news"})},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.loadNext=function(t,a){t+a<=e.state.newsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(ze(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(ze(t-a,a)))},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_NEWS_LIST",payload:null}),""!=t?t.length>=3&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(Ze(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(ze(e.state.offset,e.state.limit)),e.setState({navButtons:!0,loaded:!1}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch(ze(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.others.counts){if(null!=e.others.counts.newsCount&&e.news.newsList){var t=e.news.newsList.newsData;console.log(t),this.setState({news:t,offset:e.news.newsList.offset,limit:e.news.newsList.limit,newsCount:e.others.counts.newsCount,loaded:!0})}null!=e.news.deletedNews&&window.location.reload(),e.news.filteredNewsList&&this.setState({news:e.news.filteredNewsList.newsData,offset:0,loaded:!0})}}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"News list"}),this.renderAddNewsButton(),Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsx)("div",{children:this.state.news.length>0?this.renderNews(this.state.news):Object(S.jsx)("div",{className:"message",children:"No news published yet."})}),this.state.news.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var xt=Object(i.b)((function(e){return{news:e.news,others:e.others}}))(St),Dt=function(e){var t=e.course,a=e.history,s=e.dispatch,n=e.userRole,r=function(e){Be.a.fire({title:"Are you sure?",text:"You will delete the course and all the data asociated with it (exams, marks, presences, etc.)",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(t){t.isConfirmed&&s(function(e){return function(t){T.a.delete("/api/deleteCourse/".concat(e)).then((function(e){e=e.data,t({type:"DELETE_COURSE",payload:e})})).catch((function(e){console.log(e)}))}}(e))}))};return Object(S.jsxs)("div",{className:"course_container",children:[Object(S.jsx)("h2",{children:t.courseName}),Object(S.jsxs)("div",{className:"professor",children:["with ","admin"==n?Object(S.jsx)(o.b,{to:{pathname:"/professor/".concat(t.professorId),state:{fromDashboard:!0}},children:"".concat(t.Professor.professorFirstName," ").concat(t.Professor.professorLastName)}):Object(S.jsx)("span",{children:"".concat(t.Professor.professorFirstName," ").concat(t.Professor.professorLastName)})]}),Object(S.jsxs)("div",{className:"subject",children:["teaching ",Object(S.jsx)(o.b,{to:{pathname:"/subject/".concat(t.subjectId),state:{fromDashboard:!0}},children:"".concat(t.Subject.subjectName)})]}),Object(S.jsx)("div",{className:"time",children:"at ".concat(Z()(t.courseTime).format("dddd HH:mm"))}),Object(S.jsxs)("div",{className:"studygroup",children:["for study group no. ",Object(S.jsx)(o.b,{to:{pathname:"/studygroup/".concat(t.studyGroupId),state:{fromDashboard:!0}},children:"".concat(t.StudyGroup.studyGroupId)})]}),Object(S.jsxs)("div",{className:"",children:[Object(S.jsx)("div",{className:"edit",onClick:function(){return e=t.courseId,void a.push("/course/".concat(e));var e},children:"ABOUT"}),"admin"==n?Object(S.jsx)("div",{className:"delete",onClick:function(){return r(t.courseId)},children:"DELETE"}):null]})]},t.courseId)},Et=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={customList:!1,courses:[],coursesCount:0,offset:0,limit:6,loaded:!1,keyword:"",navButtons:!0,dummy:!1},e.renderCourses=function(t){return t.map((function(t){return Object(S.jsx)(Dt,{course:t,history:e.props.history,dispatch:e.props.dispatch,userRole:e.props.users.login.user.userRole},t.courseId)}))},e.renderAddCourseButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-course")},children:"Add course"})},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.loadNext=function(t,a){t+a<=e.state.coursesCount-1&&(e.setState({loaded:!1}),e.props.dispatch(ee(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(ee(t-a,a)))},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),""!=t?t.length>=3&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(te(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(ee(e.state.offset,e.state.limit)),e.setState({navButtons:!0}))},e.loadAllCoursesHandle=function(){e.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),e.props.dispatch(ee(e.state.offset,e.state.limit)),e.setState({customList:!1,loaded:!1,keyword:""})},e.loadProfessorCoursesHandle=function(t){e.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),e.props.dispatch(ae(t)),e.setState({customList:!0,loaded:!1,keyword:""})},e.loadStudentCoursesHandle=function(t){e.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),e.props.dispatch(se(t)),e.setState({customList:!0,loaded:!1,keyword:""})},e.renderProfessorCoursesButton=function(){return e.state.customList?Object(S.jsx)("button",{onClick:function(){return e.loadAllCoursesHandle()},children:"GET ALL COURSES"}):Object(S.jsx)("button",{onClick:function(){return e.loadProfessorCoursesHandle(e.props.users.login.user.userEmail)},children:"GET MY COURSES"})},e.renderStudentCoursesButton=function(){return e.state.customList?Object(S.jsx)("button",{onClick:function(){return e.loadAllCoursesHandle()},children:"GET ALL COURSES"}):Object(S.jsx)("button",{onClick:function(){return e.loadStudentCoursesHandle(e.props.users.login.user.userEmail)},children:"GET MY COURSES"})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),this.props.dispatch(ee(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.others.counts){if(e.others.counts){if(e.courses.coursesList){var t=e.courses.coursesList.coursesData;this.setState({courses:t,offset:e.courses.coursesList.offset,limit:e.courses.coursesList.limit,coursesCount:e.others.counts.coursesCount,loaded:!0})}e.courses.filteredCoursesList&&this.setState({courses:e.courses.filteredCoursesList,loaded:!0})}null!=e.courses.deletedCourse&&(window.location.reload(),this.props.dispatch({type:"CLEAR_COURSE",payload:null})),e.courses.keywordFilteredCoursesList&&this.setState({courses:e.courses.keywordFilteredCoursesList.coursesData,loaded:!0})}}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Courses list"}),"admin"==this.props.users.login.user.userRole?this.renderAddCourseButton():null,"professor"==this.props.users.login.user.userRole?this.renderProfessorCoursesButton():null,"student"==this.props.users.login.user.userRole?this.renderStudentCoursesButton():null,Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsx)("div",{children:this.state.courses.length>0?this.renderCourses(this.state.courses):Object(S.jsx)("div",{className:"message",children:"No courses yet"})}),!this.state.customList&&this.state.courses.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var Nt=Object(i.b)((function(e){return{courses:e.courses,others:e.others}}))(Et),_t=function(e){var t=e.exam,a=e.type,s=e.aboutExam,n=e.deleteExam,r=e.userRole,o="";o="info"==a?"student_column_info":"student_column_label";return Object(S.jsxs)("div",{className:"student_container",children:[Object(S.jsx)("div",{className:o,children:t.examId}),Object(S.jsx)("div",{className:o,children:t.Course.courseName}),Object(S.jsx)("div",{className:o,children:t.Course.studyGroupId}),Object(S.jsx)("div",{className:o,children:"Date"==t.examDate?t.examDate:Z()(t.examDate).format("DD/MM/YYYY")}),Object(S.jsx)("div",{className:o,children:1==t.examIsOnline?"ONLINE":"Form"===t.examIsOnline?t.examIsOnline:"PHYSICAL"}),"student_column_label"==o?Object(S.jsx)("div",{className:o,children:"Options"}):Object(S.jsxs)("div",{className:o,children:[Object(S.jsx)("div",{className:"edit",onClick:function(){return s(t.examId)},children:"ABOUT"}),"admin"==r?Object(S.jsx)("div",{className:"delete",onClick:function(){return n(t.examId)},children:"DELETE"}):null]})]},t.examId)},Lt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={customList:!1,labels:{examId:"ID",Course:{courseName:"Course",studyGroupId:"StudyGroup"},examDate:"Date",examIsOnline:"Form"},exams:[],examsCount:0,offset:0,limit:10,loaded:!1,dummy:!1,keyword:"",navButtons:!0},e.renderExams=function(t){return t.map((function(t){return Object(S.jsx)(_t,{exam:t,aboutExam:e.aboutExam,deleteExam:e.deleteExam,type:"info",userRole:e.props.users.login.user.userRole},t.examId)}))},e.renderLabels=function(t){return Object(S.jsx)(_t,{exam:t,type:"label",userRole:e.props.users.login.user.userRole})},e.renderAddExamButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-exam")},children:"Add exam"})},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.aboutExam=function(t){e.props.history.push("/exam/".concat(t))},e.deleteExam=function(t){Be.a.fire({title:"Are you sure?",text:"You will the exam and all the data asociated with it.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.isConfirmed&&e.props.dispatch(We(t))}))},e.loadNext=function(t,a){t+a<=e.state.examsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(Fe(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(Fe(t-a,a)))},e.loadAllExamsHandle=function(){e.props.dispatch({type:"CLEAR_EXAMS_LIST",payload:null}),e.props.dispatch(Fe(e.state.offset,e.state.limit)),e.setState({customList:!1,loaded:!1,keyword:""})},e.loadProfessorExamsHandle=function(t){e.props.dispatch({type:"CLEAR_EXAMS_LIST",payload:null}),e.props.dispatch(Ye(t)),e.setState({customList:!0,loaded:!1,keyword:""})},e.loadStudentExamsHandle=function(t){e.props.dispatch({type:"CLEAR_EXAMS_LIST",payload:null}),e.props.dispatch(He(t)),e.setState({customList:!0,loaded:!1,keyword:""})},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_EXAMS_LIST",payload:null}),""!=t?(t.length>=3||!isNaN(t))&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(Ge(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(Fe(e.state.offset,e.state.limit)),e.setState({loaded:!1,navButtons:!0}))},e.renderProfessorExamsButton=function(){return e.state.customList?Object(S.jsx)("button",{onClick:function(){return e.loadAllExamsHandle()},children:"GET ALL EXAMS"}):Object(S.jsx)("button",{onClick:function(){return e.loadProfessorExamsHandle(e.props.users.login.user.userEmail)},children:"GET MY EXAMS"})},e.renderStudentCoursesButton=function(){return e.state.customList?Object(S.jsx)("button",{onClick:function(){return e.loadAllExamsHandle()},children:"GET ALL EXAMS"}):Object(S.jsx)("button",{onClick:function(){return e.loadStudentExamsHandle(e.props.users.login.user.userEmail)},children:"GET MY EXAMS"})},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_EXAMS_LIST",payload:null}),this.props.dispatch(Fe(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.others.counts){if(e.exams.examsList){var t=e.exams.examsList.examsData;this.setState({exams:t,offset:e.exams.examsList.offset,limit:e.exams.examsList.limit,examsCount:e.others.counts.examsCount,loaded:!0})}e.exams.filteredExamsList&&this.setState({exams:e.exams.filteredExamsList,loaded:!0})}e.exams.deletedExam&&(window.location.reload(),this.props.dispatch({type:"CLEAR_EXAM",payload:null})),e.exams.keywordFilteredExamsList&&this.setState({exams:e.exams.keywordFilteredExamsList.examsData,offset:0,loaded:!0})}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Exams list"}),"admin"==this.props.users.login.user.userRole?this.renderAddExamButton():null,"professor"==this.props.users.login.user.userRole?this.renderProfessorExamsButton():null,"student"==this.props.users.login.user.userRole?this.renderStudentCoursesButton():null,Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsxs)("div",{children:[this.state.exams.length>0?this.renderLabels(this.state.labels):Object(S.jsx)("div",{className:"message",children:"No exams programmed yet."}),this.state.exams.length>0?this.renderExams(this.state.exams):null]}),!this.state.customList&&this.state.exams.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var Ct=Object(i.b)((function(e){return{exams:e.exams,others:e.others}}))(Lt),Tt=function(e){var t=e.department,a=e.dispatch,s=e.history,n=e.userRole,r=function(e){Be.a.fire({title:"Are you sure?",text:"You will the delete the department and all the data asociated with it (professors, courses, exams, etc.)",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(t){t.isConfirmed&&a(function(e){return{type:"DELETE_DEPARTMENT",payload:T.a.delete("/api/deleteDepartment/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}(e))}))};return Object(S.jsxs)("div",{className:"department-card",children:[Object(S.jsxs)("div",{className:"department-container",children:[Object(S.jsx)("h4",{children:Object(S.jsx)("b",{children:t.departmentName})}),Object(S.jsx)("p",{children:t.Faculty.facultyName})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"edit",onClick:function(){return e=t.departmentId,void s.push("/department/".concat(e));var e},children:"ABOUT"}),"admin"==n?Object(S.jsx)("div",{className:"delete",onClick:function(){return r(t.departmentId)},children:"DELETE"}):null]})]})},It=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={departments:[],departmentsCount:0,offset:0,limit:6,loaded:!1,dummy:!1,keyword:"",navButtons:!0},e.renderDepartments=function(t){return t.map((function(t){return Object(S.jsx)(Tt,{department:t,history:e.props.history,dispatch:e.props.dispatch,userRole:e.props.users.login.user.userRole},t.departmentId)}))},e.renderAddDepartmentButton=function(){return Object(S.jsx)("div",{className:"add_button",onClick:function(){return e.props.history.push("/add-department")},children:"Add department"})},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.loadNext=function(t,a){t+a<=e.state.departmentsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(ye(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(ye(t-a,a)))},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_DEPARTMENTS_LIST",payload:null}),""!=t?t.length>=3&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(ge(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(ye(e.state.offset,e.state.limit)),e.setState({navButtons:!0,loaded:!1}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_DEPARTMENTS_LIST",payload:null}),this.props.dispatch(ye(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(console.log(e),e.others.counts){if(e.others.counts&&e.departments.departmentsList){var t=e.departments.departmentsList.departmentsData;this.setState({departments:t,offset:e.departments.departmentsList.offset,limit:e.departments.departmentsList.limit,departmentsCount:e.others.counts.departmentsCount,loaded:!0})}null!=e.departments.deletedDepartment&&(window.location.reload(),this.props.dispatch({type:"CLEAR_DEPARTMENT",payload:null})),e.departments.filteredDepartmentsList&&this.setState({departments:e.departments.filteredDepartmentsList.departmentsData,offset:0,loaded:!0})}}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Departments list"}),"admin"==this.props.users.login.user.userRole?this.renderAddDepartmentButton():null,Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsx)("div",{children:this.state.departments.length>0?this.renderDepartments(this.state.departments):Object(S.jsx)("div",{className:"message",children:"No departments yet."})}),this.state.departments.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var At=Object(i.b)((function(e){return{departments:e.departments,others:e.others}}))(It),kt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!1,formData:{studentFirstName:{element:"input",value:"",config:{name:"studentFirstName",label:"First name: ",type:"text",placeholder:"Student first name..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},studentLastName:{element:"input",value:"",config:{name:"studentLastName",label:"Last name: ",type:"text",placeholder:"Student last name..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},studentEmail:{element:"input",value:"",config:{name:"studentEmail",label:"Email: ",type:"text",placeholder:"Student email..."},validation:{required:!0,email:!0},valid:!1,isBlurred:!1,validationMessage:""},studentDob:{element:"input",value:"",config:{name:"studentDob",label:"Date of birth: ",placeholder:"Student date of birth..."},validation:{required:!0,date:!0},valid:!1,isBlurred:!1,validationMessage:""},studentAddress:{element:"input",value:"",config:{name:"studentAddress",label:"Student address: ",placeholder:"Student address..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},studentPhone:{element:"input",value:"",config:{name:"studentPhone",label:"Student phone: ",placeholder:"Student phone..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},studentIsTaxed:{element:"select",value:"",config:{name:"studentIsTaxed",label:"Student financing option: ",options:[{id:0,name:"taxed"},{id:1,name:"budget"}]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},studyGroupId:{element:"select",value:"",config:{name:"studyGroupId",label:"Study group: ",options:[]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},facultyId:{element:"select",value:"",config:{name:"facultyId",label:"Student faculty: ",options:[]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Add student"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid||""==e.state.formData[r].value);s?(document.body.click(),e.setState({error:"",loading:!0}),e.props.dispatch(Y(a))):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_STUDENT",payload:null}),this.props.dispatch({type:"CLEAR_STUDY_GROUPS",payload:null}),this.props.dispatch({type:"CLEAR_FACULTIES",payload:null}),this.props.dispatch(q()),this.props.dispatch(W())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e);var t=this.state.formData,a=[],s=[];e.faculties.facultiesList&&(e.faculties.facultiesList.map((function(e){a.push({id:e.facultyId,name:e.facultyName})})),e.studyGroups.studyGroupsList&&e.studyGroups.studyGroupsList.studyGroupsData.map((function(e){s.push({id:e.studyGroupId,name:e.studyGroupId})})),t.studyGroupId.config.options=s,t.facultyId.config.options=a,this.setState({formData:t})),e.students.student&&(e.students.student.message?this.setState({error:e.students.student.message}):(this.setState({loading:!0}),this.props.dispatch({type:"CLEAR_STUDENT",payload:null}),this.props.history.push("/students-list")))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Add student"}),Object(S.jsx)(R,{id:"studentFirstName",formData:this.state.formData.studentFirstName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentLastName",formData:this.state.formData.studentLastName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentEmail",formData:this.state.formData.studentEmail,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentDob",formData:this.state.formData.studentDob,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentAddress",formData:this.state.formData.studentAddress,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentPhone",formData:this.state.formData.studentPhone,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studentIsTaxed",formData:this.state.formData.studentIsTaxed,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyGroupId",formData:this.state.formData.studyGroupId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"facultyId",formData:this.state.formData.facultyId,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var Rt=Object(i.b)((function(e){return{students:e.students,faculties:e.faculties,studyGroups:e.studyGroups}}))(kt),Pt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!1,formData:{professorFirstName:{element:"input",value:"",config:{name:"professorFirstName",label:"First name: ",type:"text",placeholder:"Professor first name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorLastName:{element:"input",value:"",config:{name:"professorLastName",label:"Last name: ",type:"text",placeholder:"Professor last name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorEmail:{element:"input",value:"",config:{name:"professorEmail",label:"Email: ",type:"text",placeholder:"Professor email..."},validation:{required:!0,email:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorDob:{element:"input",value:"",config:{name:"professorDob",label:"Date of birth: ",placeholder:"Professor date of birth..."},validation:{required:!0,date:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorAddress:{element:"input",value:"",config:{name:"professorAddress",label:"Professor address: ",placeholder:"Professor address..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorPhone:{element:"input",value:"",config:{name:"professorPhone",label:"Professor phone: ",placeholder:"Professor phone..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},professorSalary:{element:"input",value:"",config:{name:"professorSalary",label:"Professor salary: ",placeholder:"Professor salary..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},departmentId:{element:"select",value:"",config:{name:"departmentId",label:"Department: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Add professor"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid||""==e.state.formData[r].value);s?(document.body.click(),e.setState({error:"",loading:!0}),e.props.dispatch(je(a))):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch(ye())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e);var t=this.state.formData,a=[];e.departments.departmentsList&&(e.departments.departmentsList.departmentsData.map((function(e){a.push({id:e.departmentId,name:e.departmentName})})),t.departmentId.config.options=a,this.setState({formData:t})),e.professors.professor&&(e.professors.professor.message?this.setState({error:e.professors.professor.message}):(this.setState({loading:!0}),this.props.dispatch({type:"CLEAR_PROFESSOR",payload:null}),this.props.history.push("/professors-list")))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Add professor"}),Object(S.jsx)(R,{id:"professorFirstName",formData:this.state.formData.professorFirstName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorLastName",formData:this.state.formData.professorLastName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorEmail",formData:this.state.formData.professorEmail,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorDob",formData:this.state.formData.professorDob,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorAddress",formData:this.state.formData.professorAddress,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorPhone",formData:this.state.formData.professorPhone,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorSalary",formData:this.state.formData.professorSalary,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"departmentId",formData:this.state.formData.departmentId,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var wt=Object(i.b)((function(e){return{professors:e.professors,departments:e.departments}}))(Pt),Bt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!1,formData:{studyGroupId:{element:"input",value:"",config:{name:"studyGroupId",label:"Study group no.: ",type:"text",placeholder:"Study group number..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},studyGroupDescription:{element:"input",value:"",config:{name:"studyGroupDescription",label:"Description: ",type:"text",placeholder:"Study group description..."},validation:{required:!0,minLength:6},valid:!1,isBlurred:!1,validationMessage:""},facultyId:{element:"select",value:"",config:{name:"facultyId",label:"Faculty: ",options:[]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},studyYearId:{element:"select",value:"",config:{name:"studyYearId",label:"Study year: ",options:[]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Add study group"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s="studyGroupId"==r||!(!s||!e.state.formData[r].isValid);s?(document.body.click(),e.setState({error:"",loading:!0}),e.props.dispatch(J(a))):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_STUDY_GROUP",payload:null}),this.props.dispatch({type:"LAST_STUDY_GROUP_ID",payload:T.a.get("/api/getLastStudyGroupId").then((function(e){return e.data})).catch((function(e){console.log(e)}))}),this.props.dispatch(q()),this.props.dispatch(K())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e);var t=this.state.formData,a=[],s=[];null!=e.studyGroups.lastStudyGroupId&&e.faculties.facultiesList&&e.studyYears.studyYearsList&&(e.faculties.facultiesList.map((function(e){a.push({id:e.facultyId,name:e.facultyName})})),e.studyYears.studyYearsList.map((function(e){s.push({id:e.studyYearId,name:e.studyYearOrder})})),t.facultyId.config.options=a,t.studyYearId.config.options=s,t.studyGroupId.value=e.studyGroups.lastStudyGroupId+1,t.studyGroupId.valid=!0,t.studyGroupId.isBlurred=!0,this.setState({formData:t})),e.studyGroups.studyGroup&&(e.studyGroups.studyGroup.message?this.setState({error:e.studyGroups.studyGroup.message}):(this.setState({loading:!0}),this.props.dispatch({type:"CLEAR_LAST_STUDY_GROUP_ID",payload:null}),this.props.dispatch({type:"CLEAR_STUDY_GROUP",payload:null}),this.props.history.push("/studygroups-list")))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Add study group"}),Object(S.jsx)(R,{id:"studyGroupId",formData:this.state.formData.studyGroupId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyGroupDescription",formData:this.state.formData.studyGroupDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"facultyId",formData:this.state.formData.facultyId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyYearId",formData:this.state.formData.studyYearId,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var Mt=Object(i.b)((function(e){return{studyGroups:e.studyGroups,faculties:e.faculties,studyYears:e.studyYears}}))(Bt),Ut=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!1,formData:{courseName:{element:"input",value:"",config:{name:"course_name",label:"Course name: ",type:"text",placeholder:"Course name..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},courseTime:{element:"input",value:"",config:{name:"course_time",label:"Course time: ",type:"text",placeholder:"Day of the week, HH:MM..."},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},courseDescription:{element:"input",value:"",config:{name:"course_description",label:"Description: ",type:"text",placeholder:"Course description..."},validation:{required:!0,minLength:8},valid:!1,isBlurred:!1,validationMessage:""},studyGroupId:{element:"select",value:"",config:{name:"study_group_id",label:"Study group: ",options:[]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},subjectId:{element:"select",value:"",config:{name:"subject_id",label:"Subject: ",options:[]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""},professorId:{element:"select",value:"",config:{name:"professor_id",label:"Professor: ",options:[]},validation:{required:!0},valid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Add course"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),e.setState({error:"",loading:!0}),e.props.dispatch(Q(a))):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_COURSE",payload:null}),this.props.dispatch({type:"CLEAR_STUDY_GROUPS",payload:null}),this.props.dispatch({type:"CLEAR_SUBJECTS",payload:null}),this.props.dispatch({type:"CLEAR_PROFESSORS",payload:null}),this.props.dispatch(W()),this.props.dispatch(Le()),this.props.dispatch(me())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e);var t=this.state.formData,a=[],s=[],n=[];e.studyGroups.studyGroupsList&&e.subjects.subjectsList&&e.professors.professorsList&&(e.studyGroups.studyGroupsList.studyGroupsData.map((function(e){a.push({id:e.studyGroupId,name:e.studyGroupId})})),e.subjects.subjectsList.subjectsData.map((function(e){s.push({id:e.subjectId,name:e.subjectName})})),e.professors.professorsList.professorsData.map((function(e){n.push({id:e.professorId,name:"".concat(e.professorFirstName," ").concat(e.professorLastName)})})),t.studyGroupId.config.options=a,t.subjectId.config.options=s,t.professorId.config.options=n,this.setState({formData:t})),e.courses.course&&(e.courses.course.message?this.setState({error:e.courses.course.message}):(this.setState({loading:!0}),this.props.dispatch({type:"CLEAR_COURSE",payload:null}),this.props.history.push("/courses-list")))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Add course"}),Object(S.jsx)(R,{id:"courseName",formData:this.state.formData.courseName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"courseTime",formData:this.state.formData.courseTime,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"courseDescription",formData:this.state.formData.courseDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"studyGroupId",formData:this.state.formData.studyGroupId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectId",formData:this.state.formData.subjectId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"professorId",formData:this.state.formData.professorId,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var Ft=Object(i.b)((function(e){return{courses:e.courses,studyGroups:e.studyGroups,subjects:e.subjects,professors:e.professors}}))(Ut),Gt=a(143),Yt=a(49),Ht=a(147),Vt=a(144),qt=a.n(Vt),Wt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={fileName:"",isUploading:!1,progress:0,fileUrl:""},e.uploadStartHandle=function(){e.setState({isUploading:!0,progress:0})},e.uploadErrorHandle=function(t){e.setState({isUploading:!1}),console.log(t)},e.uploadSuccessHandle=function(t){console.log(t),e.setState({fileName:t,progress:100,isUploading:!1}),$e.a.storage().ref("".concat(e.props.referencedStoragePath)).child(t).getDownloadURL().then((function(t){e.setState({fileUrl:t})})).catch((function(e){console.log(e)})),e.props.storeFileName(t)},e.progressHandle=function(t){e.setState({progress:t})},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(qt.a,{accept:"".concat(this.props.acceptedFormat),name:"".concat(this.props.name),randomizeFilename:!0,storageRef:$e.a.storage().ref("".concat(this.props.referencedStoragePath)),onUploadStart:this.uploadStartHandle,onUploadError:this.uploadErrorHandle,onUploadSuccess:this.uploadSuccessHandle,onProgress:this.progressHandle}),this.state.isUploading?Object(S.jsxs)("p",{children:["Progress: ",this.state.progress,"%"]}):null,""!==this.state.fileUrl?Object(S.jsx)("img",{src:this.state.fileUrl}):null]})}}]),a}(s.Component),Xt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={editorState:Yt.EditorState.createEmpty(),error:"",loaded:!0,formData:{newsAuthorName:{element:"input",value:"",config:{label:"Author name:",name:"newsAuthorName",type:"text",placeholder:"Enter your name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},newsTitle:{element:"input",value:"",config:{label:"News title:",name:"title_input",type:"text",placeholder:"Enter the title..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},newsText:{element:"text-editor",value:"",validation:{required:!0},isValid:!1},newsPicturePath:{element:"file-uploader",value:"",validation:{required:!0},isValid:!1}}},e.updateForm=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=Object(L.a)({},e.state.formData),n=Object(L.a)({},s[t.id]);if(n.value=""===a?t.event.target.value:a,t.isBlurred||!t.isBlurred){var r=e.validateData(n);n.isValid=r[0],n.validationMessage=r[1],n.isBlurred=t.isBlurred}s[t.id]=n,e.setState({formData:s})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}return t},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!e.state.formData[r].isValid||!s);s?(e.setState({loaded:!1,error:""}),e.props.dispatch(Ke(a))):(console.log("There was an error !"),e.setState({error:"Something went wrong !"}))},e.renderSubmitButton=function(){return e.state.isLoading?Object(S.jsx)("div",{children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{type:"submit",children:"Add news"})})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e.editorStateHandle=function(t){var a=t.getCurrentContent(),s=Object(Ht.a)(a);e.updateForm({id:"newsText"},s),e.setState({editorState:t})},e.storeFileName=function(t){e.updateForm({id:"newsPicturePath"},t)},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_NEWS",payload:null})}},{key:"componentWillReceiveProps",value:function(e){e.news.news&&(e.news.news.message?this.setState({error:e.news.news.message,loaded:!0}):this.props.history.push("/news-list"))}},{key:"render",value:function(){var e=this;return this.state.loaded?Object(S.jsx)("div",{className:"add_news_container",children:Object(S.jsxs)("form",{onSubmit:this.submitHandle,children:[Object(S.jsx)("h2",{children:"Add news"}),Object(S.jsx)(R,{id:"newsAuthorName",formData:this.state.formData.newsAuthorName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"newsTitle",formData:this.state.formData.newsTitle,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(Gt.Editor,{editorState:this.state.editorState,wrapperClassName:"editor_wrapper",editorClassName:"editor",onEditorStateChange:function(t){e.editorStateHandle(t)}}),Object(S.jsx)(Wt,{name:"image",acceptedFormat:"image/*",referencedStoragePath:"pictures",storeFileName:function(t){return e.storeFileName(t)}}),this.renderSubmitButton(),this.renderError()]})}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var Jt=Object(i.b)((function(e){return{news:e.news}}))(Xt),$t=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!1,courses:[],formData:{courseId:{element:"select",value:"",config:{name:"course_id",label:"Course: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},examDescription:{element:"input",value:"",config:{name:"exam_description",label:"Exam description: ",type:"text",placeholder:"Exam description..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},examDate:{element:"input",value:"",config:{name:"exam_date",label:"Exam date: ",type:"text",placeholder:"Exam date, DD/MM/YYYY..."},validation:{required:!0,date:!0},isValid:!1,isBlurred:!1,validationMessage:""},examIsOnline:{element:"select",value:"",config:{name:"exam_is_online",label:"Exam type: ",options:[{id:0,name:"physical"},{id:1,name:"online"}]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Add exam"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),console.log(a),"admin"==e.props.users.login.user.userRole||"professor"==e.props.users.login.user.userRole&&e.state.courses.find((function(e){return e.courseId==a.courseId})).Professor.professorEmail==e.props.users.login.user.userEmail?(e.props.dispatch(Ve(a)),e.setState({error:"",loading:!0})):e.setState({error:"You do not have permission"})):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_EXAM",payload:null}),this.props.dispatch({type:"CLEAR_COURSES_LIST",payload:null}),this.props.dispatch(ee()),this.state.formData.courseId.config.disabled="professor"==this.props.users.login.user.userRole||null}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e);var t=this.state.formData,a=[];e.courses.coursesList&&(e.courses.coursesList.coursesData.map((function(e){a.push({id:e.courseId,name:"".concat(e.courseName," with ").concat(e.Professor.professorFirstName," ").concat(e.Professor.professorLastName," - group no. ").concat(e.studyGroupId)})})),t.courseId.config.options=a,this.props.match.params.courseId&&(t.courseId.defaultValue=this.props.match.params.courseId,t.courseId.value=this.props.match.params.courseId,t.courseId.isValid=!0),this.setState({courses:e.courses.coursesList.coursesData,formData:t})),e.exams.exam&&(e.exams.exam.message?this.setState({loading:!1,error:e.exams.exam.message}):(this.setState({loading:!1}),this.props.match.params.courseId?this.props.history.push("/course/".concat(this.props.match.params.courseId)):this.props.history.push("/exams-list"),this.props.dispatch({type:"CLEAR_EXAM",payload:null})))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Add exam"}),Object(S.jsx)(R,{id:"courseId",formData:this.state.formData.courseId,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"examDescription",formData:this.state.formData.examDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"examDate",formData:this.state.formData.examDate,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"examIsOnline",formData:this.state.formData.examIsOnline,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var Kt=Object(i.b)((function(e){return{courses:e.courses,exams:e.exams}}))($t),zt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!1,formData:{subjectName:{element:"input",value:"",config:{name:"subject_name",label:"Subject name: ",type:"text",placeholder:"Subject name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectTheoryMarks:{element:"input",value:"",config:{name:"subject_theory_marks",label:"Theory marks: ",type:"text",placeholder:"Theory marks..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectPracticalMarks:{element:"input",value:"",config:{name:"subject_practical_marks",label:"Practical marks: ",type:"text",placeholder:"Practical marks..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectCreditScore:{element:"input",value:"",config:{name:"subject_credit_score",label:"Credit score: ",type:"text",placeholder:"Credit score..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectDescription:{element:"input",value:"",config:{name:"subject_description",label:"Subject description: ",type:"text",placeholder:"Subject description..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},subjectIsOptional:{element:"select",value:"",config:{name:"subject_is_optional",label:"Subject type: ",options:[{id:0,name:"Optional"},{id:1,name:"Mandatory"}]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Add subject"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);parseInt(a.subjectTheoryMarks)+parseInt(a.subjectPracticalMarks)!=100?(s=!1,e.setState({error:"The sum of the theory marks and practical marks must equal 100"})):s?(document.body.click(),console.log(a),e.props.dispatch(Ie(a)),e.setState({error:"",loading:!0})):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_SUBJECT",payload:null})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.subjects.subject&&(e.subjects.subject.message?this.setState({loading:!1,error:e.subjects.subject.message}):(this.setState({loading:!1}),this.props.history.push("/subjects-list"),this.props.dispatch({type:"CLEAR_SUBJECT",payload:null})))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Add subject"}),Object(S.jsx)(R,{id:"subjectName",formData:this.state.formData.subjectName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectDescription",formData:this.state.formData.subjectDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectTheoryMarks",formData:this.state.formData.subjectTheoryMarks,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectPracticalMarks",formData:this.state.formData.subjectPracticalMarks,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectCreditScore",formData:this.state.formData.subjectCreditScore,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"subjectIsOptional",formData:this.state.formData.subjectIsOptional,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var Zt=Object(i.b)((function(e){return{subjects:e.subjects}}))(zt),Qt=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!1,formData:{departmentName:{element:"input",value:"",config:{name:"department_name",label:"Department name: ",type:"text",placeholder:"Department name..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},departmentDescription:{element:"input",value:"",config:{name:"department_description",label:"Department description: ",type:"text",placeholder:"Department description..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},facultyId:{element:"select",value:"",config:{name:"faculty_id",label:"Faculty: ",options:[]},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"This field must be a valid email address !");t=n?t:[n,r]}if(e.validation.minLength){var o=e.value.length>=e.validation.minLength,i="".concat(o?"":"This field must be at least ".concat(e.validation.minLength," characters long !"));t=o?t:[o,i]}if(e.validation.date){var c=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e.value),d="".concat(c?"":"This field must be a valid date in DD/MM/YYYY format !");t=c?t:[c,d]}return t},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Add department"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid);s?(document.body.click(),console.log(a),e.props.dispatch(Oe(a)),e.setState({error:"",loading:!0})):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_DEPARTMENT",payload:null}),this.props.dispatch({type:"CLEAR_FACULTIES",payload:null}),this.props.dispatch(q())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e);var t=this.state.formData,a=[];e.faculties.facultiesList&&(e.faculties.facultiesList.map((function(e){a.push({id:e.facultyId,name:e.facultyName})})),t.facultyId.config.options=a,this.setState({formData:t})),e.departments.department&&(e.departments.department.message?this.setState({loading:!1,error:e.departments.department.message}):(this.setState({loading:!1}),this.props.history.push("/departments-list"),this.props.dispatch({type:"CLEAR_DEPARTMENT",payload:null})))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h2",{children:"Add department"}),Object(S.jsx)(R,{id:"departmentName",formData:this.state.formData.departmentName,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"departmentDescription",formData:this.state.formData.departmentDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"facultyId",formData:this.state.formData.facultyId,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var ea=Object(i.b)((function(e){return{departments:e.departments,faculties:e.faculties}}))(Qt),ta=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loading:!0,user:{},formData:{userEmail:{element:"input",value:"",config:{disabled:!0,name:"user_email",label:"User email: ",type:"text",placeholder:"User email..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},userRole:{element:"input",value:"",config:{disabled:!0,name:"user_role",label:"User role: ",type:"text",placeholder:"User role..."},validation:{required:!0,minLength:6},isValid:!1,isBlurred:!1,validationMessage:""},userPassword:{element:"input",value:"",config:{name:"user_password",label:"New password: ",type:"password",placeholder:"New password..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},userPasswordConfirm:{element:"input",value:"",config:{name:"user_password_confirm",label:"Confirm new password: ",type:"password",placeholder:"Confirm new password..."},validation:{required:!0,passwordConfirm:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=Object(L.a)({},e.state.formData),s=Object(L.a)({},a[t.id]);if(s.value=t.event.target.value,t.isBlurred){var n=e.validateData(s);s.isValid=n[0],s.validationMessage=n[1],s.isBlurred=t.isBlurred}a[t.id]=s,e.setState({formData:a})},e.validateData=function(t){var a=[!0,""];if(t.validation.required){var s=""!==t.value.trim(),n="".concat(s?"":"This field is required !");a=s?a:[s,n]}if(t.validation.email){var r=/\S+@\S+\.\S+/.test(t.value),o="".concat(r?"":"This field must be a valid email address !");a=r?a:[r,o]}if(t.validation.minLength){var i=t.value.length>=t.validation.minLength,c="".concat(i?"":"This field must be at least ".concat(t.validation.minLength," characters long !"));a=i?a:[i,c]}if(t.validation.date){var d=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(t.value),u="".concat(d?"":"This field must be a valid date in DD/MM/YYYY format !");a=d?a:[d,u]}if(t.validation.passwordConfirm){var l=t.value==e.state.formData.userPassword.value,p="".concat(l?"":"The passwords do not match !");a=l?a:[l,p]}return a},e.renderSubmitButton=function(){return e.state.loading?Object(S.jsx)("div",{className:"loading",children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(t){return e.submitHandle(t)},children:"Change password"})})},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!s||!e.state.formData[r].isValid||""==e.state.formData[r].value);s?(document.body.click(),e.setState({error:""}),console.log(a),e.props.dispatch(A(e.state.user.userId,{userPassword:a.userPassword}))):e.setState({error:"Something must have happened..."})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_UPDATED_USER",payload:null});var e=this.state.formData;e.userEmail.value=this.props.users.login.user.userEmail,e.userEmail.isValid=!0,e.userRole.value=this.props.users.login.user.userRole,e.userRole.isValid=!0,this.setState({formData:e,user:this.props.users.login.user,loading:!1})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.users.updatedUser&&(console.log(e),this.props.dispatch(k(this.props.history)))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(S.jsx)("div",{className:"loader"}):Object(S.jsx)("div",{className:"add_container",children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h1",{id:"profile_title",children:"User profile"}),Object(S.jsx)(R,{id:"userEmail",formData:this.state.formData.userEmail,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"userRole",formData:this.state.formData.userRole,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"userPassword",formData:this.state.formData.userPassword,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"userPasswordConfirm",formData:this.state.formData.userPasswordConfirm,changeHandle:function(t){return e.updateForm(t)}}),this.renderSubmitButton(),this.renderError()]})})}}]),a}(s.Component);var aa=Object(i.b)((function(e){return{}}))(ta),sa=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_STUDENT",payload:null}),this.props.dispatch(G(this.props.users.login.user.userEmail))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e),e.students.student&&this.props.history.push("/student/".concat(e.students.student.studentId))}},{key:"render",value:function(){return Object(S.jsx)("div",{})}}]),a}(s.Component);var na=Object(i.b)((function(e){return{students:e.students}}))(sa),ra=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_PROFESSOR",payload:null}),this.props.dispatch(fe(this.props.users.login.user.userEmail))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e),e.professors.professor&&this.props.history.push("/professor/".concat(e.professors.professor.professorId))}},{key:"render",value:function(){return Object(S.jsx)("div",{})}}]),a}(s.Component);var oa=Object(i.b)((function(e){return{professors:e.professors}}))(ra);function ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;return function(a){T.a.get("/api/getDocuments?offset=".concat(e,"&limit=").concat(t)).then((function(s){s=s.data,a({type:"DOCUMENTS_LIST",payload:{documentsData:s,offset:e,limit:t}})})).catch((function(e){console.log(e)}))}}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){T.a.get("/api/getFilteredDocuments?keyword=".concat(e)).then((function(a){a=a.data,t({type:"FILTERED_DOCUMENTS_LIST",payload:{documentsData:a,keyword:e}})})).catch((function(e){console.log(e)}))}}function da(e,t){return{type:"SEND_DOCUMENT",payload:T.a.post("/api/sendDocument",{documentTitle:t.documentTitle,documentDescription:t.documentDescription,documentStoragePath:t.documentStoragePath,userId:e}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}function ua(e){return{type:"DELETE_DOCUMENT",payload:T.a.delete("/api/deleteDocument/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}var la=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={error:"",loaded:!0,formData:{documentTitle:{element:"input",value:"",config:{label:"Document title: ",name:"document_title_input",type:"text",placeholder:"Enter your document title..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},documentDescription:{element:"input",value:"",config:{label:"Document description:",name:"document_description_input",type:"text",placeholder:"Enter the doc description..."},validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""},documentStoragePath:{element:"file-uploader",value:"",validation:{required:!0},isValid:!1,isBlurred:!1,validationMessage:""}}},e.updateForm=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=Object(L.a)({},e.state.formData),n=Object(L.a)({},s[t.id]);if(n.value=""===a?t.event.target.value:a,t.isBlurred||!t.isBlurred){var r=e.validateData(n);n.isValid=r[0],n.validationMessage=r[1],n.isBlurred=t.isBlurred}s[t.id]=n,e.setState({formData:s})},e.validateData=function(e){var t=[!0,""];if(e.validation.required){var a=""!==e.value.trim(),s="".concat(a?"":"This field is required !");t=a?t:[a,s]}return t},e.submitHandle=function(t){t.preventDefault();var a={},s=!0;for(var n in e.state.formData)a[n]=e.state.formData[n].value;for(var r in e.state.formData)s=!(!e.state.formData[r].isValid||!s);s?(e.setState({loaded:!1,error:""}),console.log(a),e.props.dispatch(da(e.props.users.login.user.userId,a))):(console.log("There was an error !"),e.setState({error:"Something went wrong !"}))},e.renderSubmitButton=function(){return e.state.isLoading?Object(S.jsx)("div",{children:"Loading..."}):Object(S.jsx)("div",{children:Object(S.jsx)("button",{type:"submit",children:"SEND"})})},e.renderError=function(){return""!==e.state.error?Object(S.jsx)("div",{className:"error",children:e.state.error}):""},e.storeFileName=function(t){e.updateForm({id:"documentStoragePath"},t)},e}return Object(h.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.documents.document&&(this.props.dispatch({type:"CLEAR_DOCUMENT",payload:null}),this.setState({loaded:!0}),Be.a.fire({icon:"succes",title:"Done",text:"Your file was sent to the administration !"}),this.props.history.push("/"))}},{key:"render",value:function(){var e=this;return this.state.loaded?Object(S.jsx)("div",{className:"send_document_container",children:Object(S.jsxs)("form",{onSubmit:this.submitHandle,children:[Object(S.jsx)("h1",{children:"Send document to administration"}),Object(S.jsx)(R,{id:"documentTitle",formData:this.state.formData.documentTitle,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)(R,{id:"documentDescription",formData:this.state.formData.documentDescription,changeHandle:function(t){return e.updateForm(t)}}),Object(S.jsx)("h3",{children:"Attach a document: "}),Object(S.jsx)(Wt,{name:"document",acceptedFormat:".doc,.docx,application/pdf",referencedStoragePath:"documents",storeFileName:function(t){return e.storeFileName(t)}}),this.renderSubmitButton(),this.renderError()]})}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var pa=Object(i.b)((function(e){return{documents:e.documents}}))(la),ma=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isLoaded:!1,documentPath:"",document:{}},e.getDocumentURL=function(t){$e.a.storage().ref("documents").child(t).getDownloadURL().then((function(t){e.setState({isLoaded:!0,documentPath:t,document:e.props.document})})).catch((function(e){console.log(e)}))},e.deleteDepartmentHandle=function(t){Be.a.fire({title:"Are you sure?",text:"You will the delete the document permanently",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(a){a.isConfirmed&&(e.props.dispatch(ua(t)),$e.a.storage().ref("documents").child(e.state.document.documentStoragePath).delete().catch((function(e){console.log(e)})))}))},e.openDocumentHandle=function(){var t=document.createElement("a");t.href=e.state.documentPath,t.target="_blank",t.download=e.state.document.documentStoragePath,t.click()},e.renderOptions=function(){return Object(S.jsxs)("div",{className:"options",children:[Object(S.jsx)("div",{className:"document_open",onClick:function(){return e.openDocumentHandle()},children:"OPEN"}),Object(S.jsx)("div",{className:"document_delete",onClick:function(){return e.deleteDepartmentHandle(e.state.document.documentId)},children:"DELETE"})]})},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){this.getDocumentURL(this.props.document.documentStoragePath)}},{key:"render",value:function(){return this.state.isLoaded?Object(S.jsxs)("div",{className:"document",children:[Object(S.jsx)("a",{id:"doc_download_link",href:this.state.documentPath,download:!0,hidden:!0,children:this.state.document.documentStoragePath}),Object(S.jsxs)("h2",{children:[this.state.document.documentTitle,Object(S.jsx)("div",{className:"document_sender",children:"Sent from ".concat(this.state.document.User.userEmail)}),Object(S.jsx)("div",{className:"document_message",children:this.state.document.documentDescription})]}),this.renderOptions()]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var ha=Object(i.b)((function(e){return{documents:e.documents,others:e.others}}))(ma),fa=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={documents:[],documentsCount:0,offset:0,limit:5,loaded:!1,dummy:!1,navButtons:!0,keyword:""},e.renderDocuments=function(t){return t.map((function(t){return Object(S.jsx)(ha,{document:t,userRole:e.props.users.login.user.userRole},t.documentId)}))},e.renderNavButtons=function(){return Object(S.jsxs)("div",{className:"list_nav_buttons",children:[Object(S.jsx)("div",{className:"prev",onClick:function(){return e.loadPrev(e.state.offset,e.state.limit)},children:"Prev"}),Object(S.jsx)("div",{className:"next",onClick:function(){return e.loadNext(e.state.offset,e.state.limit)},children:"Next"})]})},e.loadNext=function(t,a){t+a<=e.state.documentsCount-1&&(e.setState({loaded:!1}),e.props.dispatch(ia(t+a,a)))},e.loadPrev=function(t,a){t-a>=0&&(e.setState({loaded:!1}),e.props.dispatch(ia(t-a,a)))},e.changeHandle=function(t){e.setState({keyword:t}),e.props.dispatch({type:"CLEAR_DOCUMENTS_LIST",payload:null}),""!=t?t.length>=3&&e.state.keyword.length<=t.length&&setTimeout((function(){e.props.dispatch(ca(t)),e.setState({navButtons:!1})}),500):(e.props.dispatch(ia(e.state.offset,e.state.limit)),e.setState({navButtons:!0,loaded:!1}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_DOCUMENTS_LIST",payload:null}),this.props.dispatch(ia(this.state.offset,this.state.limit)),this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.others.counts&&e.documents.documentsList){var t=e.documents.documentsList.documentsData;this.setState({documents:t,offset:e.documents.documentsList.offset,limit:e.documents.documentsList.limit,documentsCount:e.others.counts.documentsCount,loaded:!0})}null!=e.documents.deletedDocument&&(window.location.reload(),this.props.dispatch({type:"CLEAR_DOCUMENT",payload:null})),e.documents.filteredDocumentsList&&this.setState({documents:e.documents.filteredDocumentsList.documentsData,offset:0,loaded:!0})}},{key:"render",value:function(){var e=this;return 1==this.state.loaded?Object(S.jsxs)("div",{className:"list_container",children:[Object(S.jsx)("h1",{children:"Documents list"}),Object(S.jsx)(g.a,{id:"search_icon",icon:O.k}),Object(S.jsx)("input",{className:"search_input",value:this.state.keyword,onChange:function(t){return e.changeHandle(t.target.value)},placeholder:"Enter keyword..."}),Object(S.jsx)("div",{children:this.state.documents.length>0?this.renderDocuments(this.state.documents):Object(S.jsx)("div",{className:"message",children:"No documents received yet."})}),this.state.documents.length>0&&this.state.navButtons?this.renderNavButtons():null]}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var ja=Object(i.b)((function(e){return{documents:e.documents,others:e.others}}))(fa),va=a(87),ba=a(145),ya=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={userName:"",loaded:!1,message:{}},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_PROFESSOR",payload:null}),this.props.dispatch({type:"CLEAR_STUDENT",payload:null}),this.setState({message:this.props.message}),this.props.message.user.userId==this.props.users.login.user.userId?this.setState({userName:"Me",loaded:!0}):"admin"==this.props.message.user.userRole?this.setState({userName:"ADMIN",loaded:!0}):"professor"==this.props.message.user.userRole?this.props.dispatch(fe(this.props.message.user.userEmail)):"student"==this.props.message.user.userRole&&this.props.dispatch(G(this.props.message.user.userEmail))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_PROFESSOR",payload:null}),this.props.dispatch({type:"CLEAR_STUDENT",payload:null})}},{key:"componentWillReceiveProps",value:function(e){e.students.student&&"student"==this.props.message.user.userRole?e.message.user.userEmail==e.students.student.studentEmail&&this.setState({userName:"".concat(e.students.student.studentFirstName," ").concat(e.students.student.studentLastName),loaded:!0}):e.professors.professor&&"professor"==this.props.message.user.userRole&&e.message.user.userEmail==e.professors.professor.professorEmail&&this.setState({userName:"".concat(e.professors.professor.professorFirstName," ").concat(e.professors.professor.professorLastName),loaded:!0})}},{key:"render",value:function(){return this.state.loaded?Object(S.jsx)("div",{className:this.props.message.user.userId==this.props.currentUserId?"sent_message":"received_message",children:Object(S.jsxs)("p",{children:[Object(S.jsx)("section",{id:"chat_message_username",children:"".concat(this.state.userName,":")})," ","".concat(this.props.message.text)]})}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var ga=Object(i.b)((function(e){return{users:e.users,students:e.students,professors:e.professors}}))(ya);var Oa=Object(i.b)((function(e){return{users:e.users}}))((function(e){var t=Object(s.useRef)(),a=$e.a.firestore().collection("messages"),n=a.orderBy("createdAt").limitToLast(25),r=Object(ba.a)(n,{idField:"id"}),o=Object(va.a)(r,1)[0],i=Object(s.useState)(),c=Object(va.a)(i,2),d=c[0],u=c[1];return console.log(e),Object(S.jsxs)("div",{className:"chat_container",children:[Object(S.jsx)("h1",{children:"Academic chat room"}),Object(S.jsxs)("main",{children:[o&&o.map((function(e){return Object(S.jsx)(ga,{message:e},e.id)})),Object(S.jsx)("span",{ref:t})]}),Object(S.jsxs)("form",{onSubmit:function(s){s.preventDefault(),a.add({text:d,createdAt:$e.a.firestore.FieldValue.serverTimestamp(),user:e.users.login.user}),u(""),t.current.scrollIntoView({behavior:"smooth"})},children:[Object(S.jsx)("input",{value:d,onChange:function(e){return u(e.target.value)},placeholder:"Write your message..."}),Object(S.jsx)("button",{type:"submit",disabled:!d,children:"SEND"})]})]})})),Sa=a(146),xa=a.n(Sa),Da=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={news:[],isLoaded:!1,settings:{dots:!0,infinite:!1,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1}},e.getImageURL=function(e,t){$e.a.storage().ref("pictures").child(e.newsPicturePath).getDownloadURL().then((function(a){e.src=a,t()})).catch((function(e){console.log(e)}))},e.renderSliderOptions=function(e){return console.log(e),e.map((function(e,t){return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"featured_item",children:Object(S.jsx)("div",{className:"featured_image",style:{background:'url("'.concat(e.src,'")')},children:Object(S.jsxs)(o.b,{to:"news/".concat(e.newsId),children:[Object(S.jsx)("div",{className:"featured_caption",children:e.newsTitle}),Object(S.jsx)("div",{className:"featured_date",children:Z()(e.updatedAt).format("DD-MM-YYYY")})]})})})},t)}))},e}return Object(h.a)(a,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"CLEAR_NEWS_LIST",payload:null}),this.props.dispatch(ze())}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.news.newsList){var a=e.news.newsList.newsData,s=a.map((function(e,a){return new Promise((function(a){t.getImageURL(e,a)}))}));Promise.all(s).then((function(){t.setState({news:a,isLoaded:!0})}))}}},{key:"render",value:function(){return console.log(this.state),this.state.isLoaded?Object(S.jsx)("div",{className:"slider",children:Object(S.jsx)(xa.a,Object(L.a)(Object(L.a)({},this.state.settings),{},{children:this.renderSliderOptions(this.state.news)}))}):Object(S.jsx)("div",{className:"loader"})}}]),a}(s.Component);var Ea=Object(i.b)((function(e){return{news:e.news,others:e.others}}))(Da),Na=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={done:!1},e.generateContainers=function(e){return e.map((function(e,t){return Object(S.jsx)("div",{className:e.className,children:Object(S.jsxs)(o.b,{to:e.path,style:{marginBottom:"10px"},children:[Object(S.jsx)(g.a,{icon:e.icon,style:{display:"block",margin:"1.25vw auto",fontSize:"6vw"}}),e.text]})},t)}))},e}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch(ct())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){console.log(e);var t=e.others.counts.subjectsCount,a=e.others.counts.professorsCount,s=e.others.counts.studentsCount,n=e.others.counts.departmentsCount;this.setState({containers:[{className:"subjects",path:"/subjects-list",icon:O.a,text:"Subjects: ".concat(t)},{className:"professors",path:"/professors-list",icon:O.c,text:"Professors: ".concat(a)},{className:"students",path:"/students-list",icon:O.o,text:"Students: ".concat(s)},{className:"departments",path:"/departments-list",icon:O.m,text:"Departments: ".concat(n)}],done:!0})}},{key:"render",value:function(){return!0===this.state.done?Object(S.jsxs)("div",{className:"admin_dashboard",children:[Object(S.jsx)("h2",{children:"Summary of academics: "}),Object(S.jsx)("div",{className:"count_container",children:this.generateContainers(this.state.containers)})]}):Object(S.jsx)("div",{className:"loading"})}}]),a}(s.Component);var _a=Object(i.b)((function(e){return{users:e.users,others:e.others}}))(Na),La=function(){return Object(S.jsxs)("div",{class:"dashboard",children:[Object(S.jsx)(Ea,{type:"featured",start:0,amount:4,settings:{dots:!1}}),Object(S.jsx)(_a,{})]})},Ca="admin",Ta="professor",Ia="student",Aa=[{component:La,path:"/",title:"Dashboard",exact:!0,permissions:[Ca,Ta,Ia]},{component:ja,path:"/documents-list",title:"Documents list",exact:!0,permissions:[Ca]},{component:pa,path:"/send-document",title:"Send document",exact:!0,permissions:[Ta,Ia]},{component:w,path:"/login",title:"Login",exact:!0,permissions:[Ca,Ta,Ia]},{component:M,path:"/logout",title:"Logout",exact:!0,permissions:[Ca,Ta,Ia]},{component:lt,path:"/students-list",title:"Students list",exact:!0,permissions:[Ca,Ta,Ia]},{component:Rt,path:"/add-student",title:"Add student",exact:!0,permissions:[Ca]},{component:pe,path:"/student/:id",title:"About student",exact:!0,permissions:[Ca,Ta,Ia]},{component:ht,path:"/professors-list",title:"Professors list",exact:!0,permissions:[Ca,Ta]},{component:De,path:"/professor/:id",title:"About professor",exact:!0,permissions:[Ca,Ta]},{component:wt,path:"/add-professor",title:"Add professor",exact:!0,permissions:[Ca]},{component:gt,path:"/studygroups-list",title:"Study groups list",exact:!0,permissions:[Ca,Ta,Ia]},{component:Mt,path:"/add-studygroup",title:"Add study group",exact:!0,permissions:[Ca]},{component:Ne,path:"/studygroup/:id",title:"About study group",exact:!0,permissions:[Ca,Ta,Ia]},{component:Ft,path:"/add-course",title:"Add Course",exact:!0,permissions:[Ca]},{component:Je,path:"/course/:id",title:"About course",exact:!0,permissions:[Ca,Ta,Ia]},{component:Nt,path:"/courses-list",title:"Courses list",exact:!0,permissions:[Ca,Ta,Ia]},{component:Ct,path:"/exams-list",title:"Exams list",exact:!0,permissions:[Ca,Ta,Ia]},{component:Kt,path:"/add-exam/:courseId",title:"Add exam with course id",exact:!0,permissions:[Ca,Ta]},{component:Kt,path:"/add-exam",title:"Add exam without course id",exact:!0,permissions:[Ca]},{component:st,path:"/exam/:id",title:"About exam",exact:!0,permissions:[Ca,Ta,Ia]},{component:vt,path:"/subjects-list",title:"Subjects list",exact:!0,permissions:[Ca,Ta,Ia]},{component:Zt,path:"/add-subject",title:"Add subject",exact:!0,permissions:[Ca]},{component:rt,path:"/subject/:id",title:"About subject",exact:!0,permissions:[Ca,Ta,Ia]},{component:xt,path:"/news-list",title:"News list",exact:!0,permissions:[Ca]},{component:tt,path:"/news/:id",title:"About news",exact:!0,permissions:[Ca,Ta,Ia]},{component:Jt,path:"/add-news",title:"Add news",exact:!0,permissions:[Ca]},{component:ea,path:"/add-department",title:"Add department",exact:!0,permissions:[Ca]},{component:it,path:"/department/:id",title:"About department",exact:!0,permissions:[Ca,Ta]},{component:At,path:"/departments-list",title:"Departments list",exact:!0,permissions:[Ca,Ta]},{component:aa,path:"/profile",title:"Profile",exact:!0,permissions:[Ca,Ta,Ia]},{component:na,path:"/student-overview",title:"Student overview",exact:!0,permissions:[Ia]},{component:oa,path:"/professor-overview",title:"Professor overview",exact:!0,permissions:[Ta]},{component:Oa,path:"/chat",title:"Room chat",exact:!0,permissions:[Ca,Ta,Ia]}];function ka(e,t){var a=function(a){Object(f.a)(n,a);var s=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=s.call.apply(s,[this].concat(a))).state={loading:!0},e}return Object(h.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch({type:"USER_AUTH",payload:T.a.get("/api/authUser").then((function(e){return e.data})).catch((function(e){console.log(e)}))})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=this;if(e.users.login.isAuth||"logout"===!e.users.login.type||!0===t&&this.props.history.push("/login"),e.users.login.user){var s=Aa.find((function(e){if(e.path===a.props.match.path)return!0}));if(null!==s){var n=0;s.permissions.forEach((function(t){t!==e.users.login.user.userRole&&n++})),n===s.permissions.length?(console.log(e),this.props.history.push("/not-found")):this.setState({loading:!1})}}else this.setState({loading:!1})}},{key:"render",value:function(){return this.state.loading?Object(S.jsx)("div",{className:"loading"}):Object(S.jsx)(e,Object(L.a)({},this.props))}}]),n}(s.Component);return Object(i.b)((function(e){return{users:e.users}}))(a)}var Ra=function(e){Object(f.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(S.jsx)("div",{className:"not_found",children:"NOT FOUND"})}}]),a}(s.Component),Pa=function(){return Object(S.jsx)(_,{children:Object(S.jsxs)(p.c,{children:[Object(S.jsx)(p.a,{path:"/",exact:!0,component:ka(La,!1)}),Object(S.jsx)(p.a,{path:"/login",exact:!0,component:ka(w,!1)}),Object(S.jsx)(p.a,{path:"/logout",exact:!0,component:ka(M,!0)}),Object(S.jsx)(p.a,{path:"/dashboard",exact:!0,component:ka(La,!0)}),Object(S.jsx)(p.a,{path:"/students-list",exact:!0,component:ka(lt,!0)}),Object(S.jsx)(p.a,{path:"/professors-list",exact:!0,component:ka(ht,!0)}),Object(S.jsx)(p.a,{path:"/add-student",exact:!0,component:ka(Rt,!0)}),Object(S.jsx)(p.a,{path:"/student/:id",exact:!0,component:ka(pe,!0)}),Object(S.jsx)(p.a,{path:"/not-found",exact:!0,component:Ra}),Object(S.jsx)(p.a,{path:"/add-professor",exact:!0,component:ka(wt,!0)}),Object(S.jsx)(p.a,{path:"/professor/:id",exact:!0,component:ka(De,!0)}),Object(S.jsx)(p.a,{path:"/studygroups-list",exact:!0,component:ka(gt,!0)}),Object(S.jsx)(p.a,{path:"/add-studygroup",exact:!0,component:ka(Mt,!0)}),Object(S.jsx)(p.a,{path:"/studygroup/:id",exact:!0,component:ka(Ne,!0)}),Object(S.jsx)(p.a,{path:"/courses-list",exact:!0,component:ka(Nt,!0)}),Object(S.jsx)(p.a,{path:"/add-course",exact:!0,component:ka(Ft,!0)}),Object(S.jsx)(p.a,{path:"/course/:id",exact:!0,component:ka(Je,!0)}),Object(S.jsx)(p.a,{path:"/add-presencesheet/:id",exact:!0,component:ka(Pe,!0)}),Object(S.jsx)(p.a,{path:"/add-news",exact:!0,component:ka(Jt,!0)}),Object(S.jsx)(p.a,{path:"/news-list",exact:!0,component:ka(xt,!0)}),Object(S.jsx)(p.a,{path:"/news/:id",exact:!0,component:ka(tt,!0)}),Object(S.jsx)(p.a,{path:"/add-exam/:courseId",exact:!0,component:ka(Kt,!0)}),Object(S.jsx)(p.a,{path:"/add-exam",exact:!0,component:ka(Kt,!0)}),Object(S.jsx)(p.a,{path:"/exam/:id",exact:!0,component:ka(st,!0)}),Object(S.jsx)(p.a,{path:"/exams-list",exact:!0,component:ka(Ct,!0)}),Object(S.jsx)(p.a,{path:"/add-subject",exact:!0,component:ka(Zt,!0)}),Object(S.jsx)(p.a,{path:"/subjects-list",exact:!0,component:ka(vt,!0)}),Object(S.jsx)(p.a,{path:"/subject/:id",exact:!0,component:ka(rt,!0)}),Object(S.jsx)(p.a,{path:"/add-department",exact:!0,component:ka(ea,!0)}),Object(S.jsx)(p.a,{path:"/departments-list",exact:!0,component:ka(At,!0)}),Object(S.jsx)(p.a,{path:"/department/:id",exact:!0,component:ka(it,!0)}),Object(S.jsx)(p.a,{path:"/profile",exact:!0,component:ka(aa,!0)}),Object(S.jsx)(p.a,{path:"/student-overview",exact:!0,component:ka(na,!0)}),Object(S.jsx)(p.a,{path:"/professor-overview",exact:!0,component:ka(oa,!0)}),Object(S.jsx)(p.a,{path:"/documents-list",exact:!0,component:ka(ja,!0)}),Object(S.jsx)(p.a,{path:"/send-document",exact:!0,component:ka(pa,!0)}),Object(S.jsx)(p.a,{path:"/chat",exact:!0,component:ka(Oa,!0)}),Object(S.jsx)(p.a,{component:Ra})]})})};var wa=Object(c.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_AUTH":return Object(L.a)(Object(L.a)({},e),{},{login:t.payload});case"USER_LOGOUT":return Object(L.a)(Object(L.a)({},e),{},{login:Object(L.a)({type:"logout"},t.payload)});case"UPDATE_USER":case"CLEAR_UPDATED_USER":return Object(L.a)(Object(L.a)({},e),{},{updatedUser:t.payload});default:return e}},students:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUDENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{studentsList:t.payload});case"FILTERED_STUDENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredStudentsList:t.payload});case"ADD_STUDENT":return Object(L.a)(Object(L.a)({},e),{},{student:t.payload});case"UPDATE_STUDENT":return Object(L.a)(Object(L.a)({},e),{},{updatedStudent:t.payload});case"CLEAR_STUDENT":return Object(L.a)(Object(L.a)({},e),{},{student:t.payload,updatedStudent:t.payload,deletedStudent:t.payload});case"GENERATE_STUDY_GROUPS":return Object(L.a)(Object(L.a)({},e),{},{generatedStudyGroups:t.payload});case"GET_STUDENT":return Object(L.a)(Object(L.a)({},e),{},{student:t.payload});case"CLEAR_STUDENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{studentsList:t.payload,filteredStudentsList:t.payload});case"DELETE_STUDENT":return Object(L.a)(Object(L.a)({},e),{},{deletedStudent:t.payload});default:return e}},professors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFESSORS_LIST":return Object(L.a)(Object(L.a)({},e),{},{professorsList:t.payload});case"FILTERED_PROFESSORS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredProfessorsList:t.payload});case"ADD_PROFESSOR":return Object(L.a)(Object(L.a)({},e),{},{professor:t.payload});case"UPDATE_PROFESSOR":return Object(L.a)(Object(L.a)({},e),{},{updatedProfessor:t.payload});case"CLEAR_PROFESSOR":return Object(L.a)(Object(L.a)({},e),{},{professor:t.payload,updatedProfessor:t.payload,deletedProfessor:t.payload});case"CLEAR_PROFESSORS":return Object(L.a)(Object(L.a)({},e),{},{professorsList:t.payload,filteredProfessorsList:t.payload});case"GET_PROFESSOR":return Object(L.a)(Object(L.a)({},e),{},{professor:t.payload});case"DELETE_PROFESSOR":return Object(L.a)(Object(L.a)({},e),{},{deletedProfessor:t.payload});default:return e}},faculties:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FACULTIES_LIST":case"CLEAR_FACULTIES":return Object(L.a)(Object(L.a)({},e),{},{facultiesList:t.payload});default:return e}},studyGroups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUDY_GROUPS_LIST":return Object(L.a)(Object(L.a)({},e),{},{studyGroupsList:t.payload});case"FILTERED_STUDY_GROUPS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredStudyGroupsList:t.payload});case"ADD_STUDY_GROUP":return Object(L.a)(Object(L.a)({},e),{},{studyGroup:t.payload});case"STUDY_GROUPS_MATCHED":return Object(L.a)(Object(L.a)({},e),{},{studyGroupsList:t.payload});case"GET_STUDY_GROUP":return Object(L.a)(Object(L.a)({},e),{},{studyGroup:t.payload});case"UPDATE_STUDY_GROUP":return Object(L.a)(Object(L.a)({},e),{},{updatedStudyGroup:t.payload});case"LAST_STUDY_GROUP_ID":case"CLEAR_LAST_STUDY_GROUP_ID":return Object(L.a)(Object(L.a)({},e),{},{lastStudyGroupId:t.payload});case"CLEAR_STUDY_GROUP":return Object(L.a)(Object(L.a)({},e),{},{studyGroup:t.payload,updatedStudyGroup:t.payload,deletedStudyGroup:t.payload});case"CLEAR_STUDY_GROUPS":return Object(L.a)(Object(L.a)({},e),{},{studyGroupsList:t.payload,filteredStudyGroupsList:t.payload});case"DELETE_STUDY_GROUP":return Object(L.a)(Object(L.a)({},e),{},{deletedStudyGroup:t.payload});default:return e}},studyYears:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUDY_YEARS_LIST":return Object(L.a)(Object(L.a)({},e),{},{studyYearsList:t.payload});default:return e}},departments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEPARTMENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{departmentsList:t.payload});case"FILTERED_DEPARTMENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredDepartmentsList:t.payload});case"GET_DEPARTMENT":case"ADD_DEPARTMENT":return Object(L.a)(Object(L.a)({},e),{},{department:t.payload});case"UPDATE_DEPARTMENT":return Object(L.a)(Object(L.a)({},e),{},{updatedDepartment:t.payload});case"DELETE_DEPARTMENT":return Object(L.a)(Object(L.a)({},e),{},{deletedDepartment:t.payload});case"CLEAR_DEPARTMENT":return Object(L.a)(Object(L.a)({},e),{},{department:t.payload,updatedDepartment:t.payload,deletedDepartment:t.payload});case"CLEAR_DEPARTMENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{departmentsList:t.payload,filteredDepartmentsList:t.payload});default:return e}},courses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COURSE":return Object(L.a)(Object(L.a)({},e),{},{course:t.payload});case"COURSES_LIST":return Object(L.a)(Object(L.a)({},e),{},{coursesList:t.payload});case"KEYWORD_FILTERED_COURSES_LIST":return Object(L.a)(Object(L.a)({},e),{},{keywordFilteredCoursesList:t.payload});case"FILTERED_COURSES_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredCoursesList:t.payload});case"GET_COURSE":return Object(L.a)(Object(L.a)({},e),{},{course:t.payload});case"UPDATE_COURSE":return Object(L.a)(Object(L.a)({},e),{},{updatedCourse:t.payload});case"DELETE_COURSE":return Object(L.a)(Object(L.a)({},e),{},{deletedCourse:t.payload});case"CLEAR_COURSE":return Object(L.a)(Object(L.a)({},e),{},{course:t.payload,updatedCourse:t.payload,deletedCourse:t.payload});case"CLEAR_COURSES_LIST":return Object(L.a)(Object(L.a)({},e),{},{coursesList:t.payload,filteredCoursesList:t.payload,keywordFilteredCoursesList:t.payload});default:return e}},subjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBJECTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{subjectsList:t.payload});case"FILTERED_SUBJECTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredSubjectsList:t.payload});case"ADD_SUBJECT":case"GET_SUBJECT":return Object(L.a)(Object(L.a)({},e),{},{subject:t.payload});case"UPDATE_SUBJECT":return Object(L.a)(Object(L.a)({},e),{},{updatedSubject:t.payload});case"DELETE_SUBJECT":return Object(L.a)(Object(L.a)({},e),{},{deletedSubject:t.payload});case"CLEAR_SUBJECT":return Object(L.a)(Object(L.a)({},e),{},{subject:t.payload,updatedSubject:t.payload,deletedSubject:t.payload});case"CLEAR_SUBJECTS":return Object(L.a)(Object(L.a)({},e),{},{subjectsList:t.payload,filteredSubjectsList:t.payload});default:return e}},presenceSheets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRESENCES_LIST":return Object(L.a)(Object(L.a)({},e),{},{presencesList:t.payload});case"PRESENCE_SHEETS_LIST":return Object(L.a)(Object(L.a)({},e),{},{presenceSheetsList:t.payload});case"ADD_PRESENCE_SHEET":return Object(L.a)(Object(L.a)({},e),{},{presenceSheet:t.payload});case"UPDATE_PRESENCE":return Object(L.a)(Object(L.a)({},e),{},{updatedPresence:t.payload});case"DELETE_PRESENCE_SHEET":return Object(L.a)(Object(L.a)({},e),{},{deletedPresenceSheet:t.payload});case"CLEAR_PRESENCE_SHEET":return Object(L.a)(Object(L.a)({},e),{},{presenceSheet:t.payload,deletedPresenceSheet:t.payload});case"CLEAR_PRESENCES":return Object(L.a)(Object(L.a)({},e),{},{presencesList:t.payload});case"CLEAR_PRESENCE":return Object(L.a)(Object(L.a)({},e),{},{updatedPresence:t.payload});case"CLEAR_PRESENCE_SHEETS_LIST":return Object(L.a)(Object(L.a)({},e),{},{presenceSheetsList:t.payload});default:return e}},marks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MARKS_LIST":return Object(L.a)(Object(L.a)({},e),{},{marksList:t.payload});case"UPDATE_MARK":case"CLEAR_MARK":return Object(L.a)(Object(L.a)({},e),{},{updatedMark:t.payload});case"CLEAR_MARKS_LIST":return Object(L.a)(Object(L.a)({},e),{},{marksList:t.payload});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEWS":return Object(L.a)(Object(L.a)({},e),{},{news:t.payload});case"NEWS_LIST":return Object(L.a)(Object(L.a)({},e),{},{newsList:t.payload});case"FILTERED_NEWS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredNewsList:t.payload});case"GET_NEWS":return Object(L.a)(Object(L.a)({},e),{},{news:t.payload});case"UPDATE_NEWS":return Object(L.a)(Object(L.a)({},e),{},{updatedNews:t.payload});case"DELETE_NEWS":return Object(L.a)(Object(L.a)({},e),{},{deletedNews:t.payload});case"CLEAR_NEWS_LIST":return Object(L.a)(Object(L.a)({},e),{},{newsList:t.payload,filteredNewsList:t.payload});case"CLEAR_NEWS":return Object(L.a)(Object(L.a)({},e),{},{news:t.payload,updatedNews:t.payload,deletedNews:t.payload});default:return e}},exams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXAM":return Object(L.a)(Object(L.a)({},e),{},{exam:t.payload});case"EXAMS_LIST":return Object(L.a)(Object(L.a)({},e),{},{examsList:t.payload});case"FILTERED_EXAMS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredExamsList:t.payload});case"KEYWORD_FILTERED_EXAMS_LIST":return Object(L.a)(Object(L.a)({},e),{},{keywordFilteredExamsList:t.payload});case"GET_EXAM":return Object(L.a)(Object(L.a)({},e),{},{exam:t.payload});case"UPDATE_EXAM":return Object(L.a)(Object(L.a)({},e),{},{updatedExam:t.payload});case"DELETE_EXAM":return Object(L.a)(Object(L.a)({},e),{},{deletedExam:t.payload});case"CLEAR_EXAM":return Object(L.a)(Object(L.a)({},e),{},{exam:t.payload,updatedExam:t.payload,deletedExam:t.payload});case"CLEAR_EXAMS_LIST":return Object(L.a)(Object(L.a)({},e),{},{examsList:t.payload,filteredExamsList:t.payload,keywordFilteredExamsList:t.payload});default:return e}},documents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOCUMENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{documentsList:t.payload});case"FILTERED_DOCUMENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{filteredDocumentsList:t.payload});case"GET_DOCUMENT":case"SEND_DOCUMENT":return Object(L.a)(Object(L.a)({},e),{},{document:t.payload});case"DELETE_DOCUMENT":return Object(L.a)(Object(L.a)({},e),{},{deletedDocument:t.payload});case"CLEAR_DOCUMENTS_LIST":return Object(L.a)(Object(L.a)({},e),{},{documentsList:t.payload,filteredDocumentsList:t.payload});case"CLEAR_DOCUMENT":return Object(L.a)(Object(L.a)({},e),{},{document:t.payload,deletedDocument:t.payload});default:return e}},others:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUNT_ESENTIALS":return Object(L.a)(Object(L.a)({},e),{},{counts:t.payload});default:return e}}}),Ba=Object(c.a)(u.a,l.a)(c.c);r.a.render(Object(S.jsx)(i.a,{store:Ba(wa),children:Object(S.jsx)(o.a,{children:Object(S.jsx)(Pa,{})})}),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.c1ee008b.chunk.js.map